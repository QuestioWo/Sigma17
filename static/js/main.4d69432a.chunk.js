(this.webpackJsonpSigma17=this.webpackJsonpSigma17||[]).push([[0],{59:function(e,t,a){e.exports=a(85)},64:function(e,t,a){},65:function(e,t,a){},70:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},82:function(e,t,a){!function(e){var t;(t=a(51)).defineMode("sigma16",(function(){var e=function(e){return e.split(" ")},a=["add","sub","mul","div","cmp","cmplt","cmpeq","cmpgt","inv","and","or","xor","trap","lea","load","store","jump","jumpc0","jumpc1","jumpf","jumpt","jal","testset","jumplt","jumple","jumpne","jumpeq","jumpge","jumpgt","data"];function n(t,a){if(t.eatSpace())return null;if(t.eat(","))return"punctuation";if(t.eat("["))return"punctuation";if(t.eat("]"))return"punctuation";var n=t.next(),r=t.peek();if(";"===n)return t.skipToEnd(),"comment";if(/(r|R)([0-9])/.test(n+r))return/(1)/.test(r)?(t.next(),r=t.peek(),/([0-5])/.test(r)&&t.next()):t.next(),"def";if("$"===n){if(t.eatWhile(/((\d)|([a-f])|([A-F]))/),t.eol()||!/\w/.test(t.peek()))return"number"}else if("-"===n){if(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek()))return"number"}else if(/\d/.test(n)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w]/);var s=t.current();return e.hasOwnProperty(s)?e[s]:"variable"}function r(e,t){return(t.tokens[0]||n)(e,t)}return t.registerHelper("hintWords","sigma16",a),function(t,a){for(var n=0;n<a.length;n++)e[a[n]]=t}("keyword",a),{startState:function(){return{tokens:[]}},token:function(e,t){return r(e,t)},closeBrackets:"[]",lineComment:";",fold:"brace"}})),t.defineMIME("text/plain","sigma16")}()},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),o=(a(64),a(12)),i=a(13),c=a(15),u=a(14),m=(a(65),a(16)),p=a(7),d=a(58),h=function(e){var t=e.component,a=e.props,n=Object(d.a)(e,["component","props"]);return r.a.createElement(p.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},b=(a(70),a(90)),g=a(91),f=a(98),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{fill:!0,variant:"tabs"},r.a.createElement(f.a.Item,null,r.a.createElement(m.c,{className:"nav-link",to:{pathname:"/",state:this.props.state}},"Home")),r.a.createElement(f.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/documentation",state:this.props.state}},"Documentation")),r.a.createElement(f.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/editor",state:this.props.state}},"Editor")),r.a.createElement(f.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/debug",state:this.props.state}},"Debug")))}}]),a}(r.a.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={code:"",breakpoints:[]},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{state:this.state}),r.a.createElement("div",{className:"mainbody"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("h1",null,"Sigma17 home page"))),r.a.createElement(b.a,null,r.a.createElement(g.a,null,"Sigma16 is a computer architecture designed for research and teaching in computer systems. This application provides a complete environment for experimenting with the architecture.")),r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:"click-editor"},r.a.createElement(m.b,{to:{pathname:"/editor",state:this.state}},"Click Here To Run IDE")))),r.a.createElement(b.a,null,r.a.createElement(g.a,null,"This web based IDE is not to be used in complete replacement the orignal written by John O'Donnel as it has properties of it which could mean that programs written using this emulator ",r.a.createElement("strong",null,"will not work")," with the orignal and could lead to repurcussions because of it."))))}}]),a}(r.a.Component),E=(a(73),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={code:"",breakpoints:[]},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{state:this.state}),r.a.createElement("div",{className:"mainbody"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,"Empty for now"))))}}]),a}(r.a.Component)),y=(a(50),a(74),a(99)),C=a(92),S=a(93),j=a(97),w=a(94),x=a(95),N=a(96),O=a(17),M=a(55),R=a.n(M),A={add:"rrr",sub:"rrr",mul:"rrr",div:"rrr",cmp:"rr",cmplt:"rrr",cmpeq:"rrr",cmpgt:"rrr",inv:"rr",and:"rrr",or:"rrr",xor:"rrr",trap:"rrr",lea:"rx",load:"rx",store:"rx",jump:"jx",jumpc0:"kx",jumpc1:"kx",jumpf:"rx",jumpt:"rx",jal:"rx",testset:"rx",jumplt:"jumpAlias",jumple:"jumpAlias",jumpne:"jumpAlias",jumpeq:"jumpAlias",jumpge:"jumpAlias",jumpgt:"jumpAlias",data:"x"},$=Math.pow(16,3),L=Math.pow(16,2),T=Math.pow(16,1),B=Math.pow(16,0),F={cmp:4,inv:8},I={add:0,sub:1,mul:2,div:3,cmplt:5,cmpeq:6,cmpgt:7,and:9,or:10,xor:11,nop:12,trap:13},z={jump:3},W={jumplt:[5,11],jumple:[4,15],jumpne:[4,13],jumpeq:[5,13],jumpge:[4,11],jumpgt:[5,15]},D={jumpc0:4,jumpc1:5},U={lea:0,load:1,store:2,jumpf:6,jumpt:7,jal:8,testset:9},H={data:0};function Z(e){return(32768&(e=Number(e)))>0&&(e-=65536),e}function P(e){return e<0&&(e+=65536),e}function q(e,t){var a=0;return isNaN(e)?J(e)?(e=e.slice(1,e.length),a=parseInt(e,16)):a=t&&Object.keys(t).includes(e)?t[e]:e:a=P(Number(e)),a}function J(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=Z(parseInt(e,16))):t=65536:t=parseInt(e),t<32768&&t>=-32768}function V(e){if(void 0!==e){for(e.length||(e=e.toString(16));e.length<4;)e="0"+e;return e}return e}function G(e,t){if(!/((\$(\d)|([a-f])|([A-F]))|(-(\d))|(\d)|(\w))+\[r((1[0-5])|([0-9]))\]/.test(e))return'arguments must be in the form of "disp[Ra]"';var a=e.split("[")[0];return!!J(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}function Y(e,t){if(!/((\$(\d)|([a-f])|([A-F]))||(-(\d))|(\d)),((\$(\d)|([a-f])|([A-F]))|(\d)|(\w))+\[r((1[0-5])|([0-9]))\]/.test(e))return'arguments must be in the form of "k,disp[Ra]"';var a=e.split(","),n=a[0],r=a[1].split("[")[0];return function(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=Z(parseInt(e,16))):t=16:t=parseInt(e),t<=15&&t>=0}(n)?!!J(r)||(!!Object.keys(t).includes(r)||"disp argument must either be a decimal, a hex or an initailised label"):"k argument must either be a decimal, a hex bit"}function K(e,t,a){var n=!0;switch(A[e]){case"rr":n=t?!!/r((1[0-5])|([0-9])),r((1[0-5])|([0-9]))/.test(t)||'arguments must be in the form of "Ra,Rb"':e+" must be followed by 2 registers in form Rx,Rx";break;case"rrr":n=t?!!/r((1[0-5])|([0-9])),r((1[0-5])|([0-9])),r((1[0-5])|([0-9]))/.test(t)||'arguments must be in the form of "Rd,Ra,Rb"':e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"jx":case"jumpAlias":n=t?G(t,a):e+" must be followed by arguments in the format of disp[Ra]";break;case"kx":n=t?Y(t,a):e+" must be followed by arguments in the format of k,disp[Ra], where k is a bit";break;case"rx":n=t?function(e,t){if(!/r((1[0-5])|([0-9])),((\$(\d)|([a-f])|([A-F]))|(-(\d))|(\d)|(\w))+\[r((1[0-5])|([0-9]))\]/.test(e))return'arguments must be in the form of "Rd,disp[Ra]"';var a=e.split(",")[1].split("[")[0];return!!J(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}(t,a):e+" must be followed by arguments in the format of Rd,disp[Ra]";break;case"x":n=t?!!J(t)||"data must be followed by either a decimal or hex number <= 65535":e+" must be followed by a number, either decimal or hex ( preceeded by $ )";break;default:n="not a valid rr, rrr, rx, jx, kx, or, x command"}return n}function Q(e,t){var a=e.trim().split(";")[0].split(/\s+/),n=!0;return a[0]&&(Object.keys(A).includes(a[0])?n=K(a[0],a[1],t):/\w/.test(a[0])?a[1]&&(n=Object.keys(A).includes(a[1])?K(a[1],a[2],t):"not a valid command following label"):n="first element of an instruction must be either a label or a command"),n}function X(e,t){var a={words:0,type:"",op:0};switch(A[e]){case"rr":a.words=1,a.type="rrr",a.op=F[e];break;case"rrr":a.words=1,a.type="rrr",a.op=I[e];break;case"jx":a.words=2,a.type="rx",a.op=z[e];break;case"jumpAlias":a.words=2,a.type="rx",a.op=W[e][0];break;case"kx":a.words=2,a.type="rx",a.op=D[e];break;case"rx":a.words=2,a.type="rx",a.op=U[e];break;case"x":a.words=1,a.type="x",a.op=H[e]}return a}function _(e,t,a){var n=0,r=65536,s=X(e),l=function(e,t,a){var n={d:0,a:0,b:0,disp:0};switch(A[e]){case"rr":var r=t.split(",");n.a=Number(r[0].slice(1,r[0].length)),n.b=Number(r[1].slice(1,r[1].length)),n.d=n.a;break;case"rrr":var s=t.split(",");n.d=Number(s[0].slice(1,s[0].length)),n.a=Number(s[1].slice(1,s[1].length)),n.b=Number(s[2].slice(1,s[2].length));break;case"jx":var l=t.split("[");n.a=Number(l[1].slice(1,l[1].length-1)),n.disp=q(l[0],a),n.d=0;break;case"jumpAlias":var o=t.split("[");n.a=Number(o[1].slice(1,o[1].length-1)),n.disp=q(o[0],a),n.d=W[e][1];break;case"kx":var i=t.split(",");n.d=q(i[0],a),i=i[1].split("["),n.a=Number(i[1].slice(1,i[1].length-1)),n.disp=q(i[0],a);break;case"rx":var c=t.split(",");n.d=Number(c[0].slice(1,c[0].length)),c=c[1].split("["),n.a=Number(c[1].slice(1,c[1].length-1)),n.disp=q(c[0],a);break;case"x":n.disp=q(t,a)}return n}(e,t,a);switch(s.type){case"rrr":n+=s.op*$+l.d*L+l.a*T+l.b*B;break;case"rx":n+=15*$+l.d*L+l.a*T+s.op*B,r=l.disp;break;case"x":n+=l.disp}return[n,r]}function ee(e){var t=e.trim().split(";")[0].split(/\s+/),a={label:"",instructionWords:0,justLabel:!1};return t[0]&&""!==t[0]&&(Object.keys(A).includes(t[0])?a.instructionWords=X(t[0],t[1]).words:/\w/.test(t[0])&&(t[1]?Object.keys(A).includes(t[1])&&(a.label=t[0],a.instructionWords=X(t[1],t[2]).words):(a.label=t[0],a.instructionWords=1,a.justLabel=!0))),a}function te(e,t){var a=[0,65536],n=e.trim().split(";")[0].split(/\s+/);return n[0]&&""!==n[0]&&(Object.keys(A).includes(n[0])?a=_(n[0],n[1],t):/\w/.test(n[0])&&(n[1]?Object.keys(A).includes(n[1])&&(a=_(n[1],n[2],t)):a=void 0)),a}function ae(e){for(var t={},a=0;a<e.length;a++)t[a]=e[a];return t}function ne(e,t){var a=Z(e),n=Z(t),r=0,s=!1;return a>n?r+=64:a<n?r+=16:s=!0,e>t?r+=128:e<t?r+=8:s&&(r+=32),r*=L}function re(e,t,a,n,r){var s=!1,l={},o=e.pc,i=0,c=a[o],u=0,m=Math.floor(a[o]/$),p=Math.floor((a[o]-m*$)/L),d=Math.floor((a[o]-p*L-m*$)/T),h=Math.floor((a[o]-d*T-p*L-m*$)/B),b=t[d],g=t[h];switch((32768&b)>0&&(b=Z(b)),(32768&g)>0&&(g=Z(g)),m){case 0:i=1,t[p]=b+g,(65536&t[p])>0?(t[p]-=65536,t[15]=5*L):t[15]=0,t[15]+=ne(t[p],t[0]);break;case 1:i=1,b<g?(t[p]=b+65536,t[15]=2*L):(t[p]=b,t[15]=0),t[p]-=g,t[15]+=ne(t[p],t[0]);break;case 2:for(i=1,t[p]=b*g,t[15]=0,t[p]>=65536>0&&(t[15]=2*L);t[p]>=65536>0;)t[p]-=65536;t[15]+=ne(t[p],t[0]);break;case 3:i=1,0!==g?(t[p]=Math.floor(b/g),t[15]=b%g):(t[p]=b,t[15]=0);break;case 4:i=1,t[15]=ne(t[d],t[h]);break;case 5:i=1,t[p]=b<g?1:0;break;case 6:i=1,t[p]=b===g?1:0;break;case 7:i=1,t[p]=b>g?1:0;break;case 8:i=1,t[d]=65535^g;break;case 9:i=1,b=1===b,g=1===g,t[p]=b&&g?1:0;break;case 10:i=1,b=1===b,g=1===g,t[p]=b||g?1:0;break;case 11:i=1,b=1===b,g=1===g,t[p]=b^g?1:0;break;case 12:i=1;break;case 13:i=1,e=(l=function(e,t,a,n,r,s,l,o){var i=!1;switch(t[s]){case 0:i=!0;break;case 1:for(var c=t[l],u=0;u<t[o];u++)n.length>u?a[c+u]=n.charCodeAt(u):a[c+u]=0;r+=">>"+n.slice(0,t[o]),n=n.slice(t[o],n.length);break;case 2:for(var m=t[l],p=0;p<t[o];p++)a[m+p]?r+=String.fromCharCode(a[m+p]):r+=String.fromCharCode(0)}return{control:e,registers:t,memory:a,input:n,output:r,halted:i}}(e,t,a,n,r,p,d,h)).control,t=l.registers,a=l.memory,n=l.input,r=l.output,s=l.halted;break;case 14:i=2,u=a[e.pc+1],e=(l=function(e,t,a,n,r,s,l){return{control:e,registers:t,memory:a}}(e,t,a)).control,t=l.registers,a=l.memory;break;case 15:i=2,l=function(e,t,a,n,r,s,l){var o=t[r]+l;switch(s){case 0:t[n]=o;break;case 1:t[n]=a[o];break;case 2:a[o]=t[n];break;case 3:e.pc=o;break;case 4:0===(t[15]&Math.pow(2,n))&&(e.pc=o);break;case 5:(t[15]&Math.pow(2,n))>0&&(e.pc=o);break;case 6:1!==t[n]&&(e.pc=o);break;case 7:1===t[n]&&(e.pc=o);break;case 8:t[n]=e.pc+2,e.pc=o;break;case 9:t[n]=o,a[o]=1}return{control:e,registers:t,memory:a}}(e,t,a,p,d,h,u=a[e.pc+1]),e=l.control,t=l.registers,a=l.memory;break;default:i=1,s=!0}for(var f=0;f<16;f++)t[f]<0&&(t[f]=P(t[f]));return t[0]=0,e.ir=c,e.adr=u,e.pc===o&&(e.pc+=i),(Object.values(t).includes(NaN)||Object.values(t).includes(void 0))&&(console.log(e),console.log(t),console.log(a),r+="==== SEVERE SYSTEM ERROR ====",s=!0),{control:e,registers:t,memory:a,input:n,output:r,halted:s}}a(82);var se=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).breakpointOnClick=function(e){var t=r.state.breakpoints;if(e.currentTarget.classList.contains("active")){e.currentTarget.classList.remove("active");var a=t.indexOf(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));t.splice(a,1)}else e.currentTarget.classList.add("active"),t.push(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));r.setState({breakpoints:t})},r.disableBreakpoints=function(e){r.setState({breakpoints:[]})},r.closeAlert=function(e){r.setState({alertShow:!1})},r.runModalClose=function(e){r.resetCPUandMemory(),r.setState({runModalShow:!1})},r.resizeOutput=function(e){var t=e.currentTarget;r.state.outputZoomed?t.style.height="82px":t.style.height="518px",r.setState({outputZoomed:!r.state.outputZoomed})},r.parseCode=function(e){var t=r.state.code.split("\n"),a=0,n={},s={},l=0,o=[],i=r.checkCode(r.state.code);if(i[0]){for(var c=0;c<t.length;c++)""!==(n=ee(t[c])).label&&(n.justLabel?(l+=1,s[n.label]=a-l+1):s[n.label]=a-l),a+=n.instructionWords;for(var u=0;u<t.length;u++){var m=t[u].trim();""!==m&&""!==m.split(";")[0]&&(n=te(t[u],s))&&(o.push(n[0]),J(Z(n[1]))&&o.push(n[1]))}r.setState({machineCode:o}),r.setState({machineCodeUpdated:!0}),r.updateAlert("Built successfully","success")}else{for(var p=Object.keys(i[1]),d="",h=0;h<p.length;h++)0!==h&&(d+=", "),d+=p[h];r.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+d,"danger")}return o},r.runCode=function(e){var t=[];t=r.machineCodeUpdated?r.state.machineCode:r.parseCode();var a=r.canRunCode(r.state.code,t),n={halted:!1};if(a.length)r.updateAlert(a,"danger");else{for(var s=r.state.cpuControl,l=r.state.registers,o=ae(t),i=r.state.input,c=r.state.output;!n.halted;)s=(n=re(s,l,o,i,c)).control,l=n.registers,o=n.memory,i=n.input,c=n.output,Object.keys(o).includes(String(s.pc))||(n.halted=!0);r.setState({cpuControl:s}),r.setState({registers:l}),r.setState({memory:o}),r.setState({output:c}),r.setState({outputZoomed:!1}),r.setState({runModalShow:!0})}},r.setInput=function(e){r.setState({inputModalShow:!0})},r.inputUpdate=function(e){r.setState({input:e.target.value})},r.inputModalClose=function(e){r.setState({inputModalShow:!1})},r.updateCode=function(e){e.split("\n").length>500||r.checkCode(e),e?r.setState({code:e}):r.setState({code:" "}),r.setState({machineCodeUpdated:!1})},r.codeBlockEdit=function(e){e.target.value.split("\n").length>500||r.checkCode(e.target.value),e.target.value?r.setState({code:e.target.value}):r.setState({code:" "}),r.setState({machineCodeUpdated:!1})},r.toggleHighlighting=function(e){r.setState({highlightedCodeChunk:!r.state.highlightedCodeChunk})},r.state={code:"",breakpoints:[],lineError:{},highlightedCodeChunk:!0,alertShow:!1,alertMessage:"",alertNature:"success",runModalShow:!1,outputZoomed:!1,inputModalShow:!1,machineCode:[],machineCodeUpdated:!1,registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:""},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}))}},{key:"breakpointsColumn",value:function(e){var t=[],a=e.split("\n"),n=document.getElementById("code-area");if(n){n.style.height=25*a.length+18+"px";for(var s=0;s<a.length;s++){var l=25*(s+.5)+3+"px",o="breakpoint "+(s+1),i="breakpoint "+(s+1);if(this.state.breakpoints.includes(s+1)&&(i+=" active"),Object.keys(this.state.lineError).includes(String(s+1))){i+=" error";var c=this.state.lineError[String(s+1)];t.push(r.a.createElement(y.a,{key:i+" tooltip",placement:"right",overlay:r.a.createElement(C.a,null,c)},r.a.createElement("div",{key:o,id:o,className:i,style:{top:l},onClick:this.breakpointOnClick})))}else t.push(r.a.createElement("div",{key:o,id:o,className:i,style:{top:l},onClick:this.breakpointOnClick}))}return t}}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("strong",null,t[a])),r.a.createElement(g.a,{style:{textAlign:"right"}},"$",V(this.state.cpuControl[t[a]])))));return e}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(r.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("strong",null,"R"+t)),r.a.createElement(g.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(C.a,null,P(this.state.registers[t]),"/",Z(this.state.registers[t]))},r.a.createElement("span",null,"$",V(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(S.a,{className:"output-area",as:"textarea",value:this.state.output,onClick:this.resizeOutput,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:"systeminfo-column-elem"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("strong",null,"$",V(t[a]))),r.a.createElement(g.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(C.a,null,P(this.state.memory[t[a]]),"/",Z(this.state.memory[t[a]]))},r.a.createElement("span",null,"$",V(this.state.memory[t[a]])))))));return e}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e}),this.setState({alertNature:t}),this.setState({alertShow:!0})}},{key:"checkCode",value:function(e){for(var t=e.toLowerCase().split("\n"),a=!0,n={},r=0,s={},l={},o=0,i=!0,c=0;c<t.length;c++)""!==(s=ee(t[c])).label&&(s.justLabel?(o+=1,l[s.label]=r-o+1):l[s.label]=r-o),r+=s.instructionWords;for(var u=0;u<t.length;u++)(a=Q(t[u],l)).length&&(n[u+1]=a,i=!1);return this.setState({lineError:n}),[i,n]}},{key:"resetCPUandMemory",value:function(){this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0}}),this.setState({cpuControl:{pc:0,ir:0,adr:0}}),this.setState({output:""})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction'):a="Cannot run no code. Try building then running",a}},{key:"createLineNumberColumn",value:function(){var e=this.state.code.split("\n").length,t=[],a="21px",n=Math.log(e)*Math.LOG10E+1|0;n>2&&(a=7*n+7+"px");for(var s=0;s<e;s++){var l=25*(s+.5);t.push(r.a.createElement("div",{key:"line-number "+(s+1),className:"line-number",style:{top:{yOffset:l},width:a}},s+1))}return t}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}),r.a.createElement(j.a,{show:this.state.runModalShow,onHide:this.runModalClose,dialogClassName:"runmodal",animation:!1},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Program Register and Memory Values")),r.a.createElement(j.a.Body,null,!this.state.outputZoomed&&r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("h6",null,"Control/Registers")),r.a.createElement(g.a,null,r.a.createElement("h6",null,"Memory/Output"))),r.a.createElement(b.a,null,!this.state.outputZoomed&&r.a.createElement(g.a,{className:"runmodal-left-col"},r.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),r.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn())),r.a.createElement(g.a,null,!this.state.outputZoomed&&r.a.createElement("div",{id:"memory-column",className:"memory-column"},this.memoryColumn()),r.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn()))))),r.a.createElement(j.a,{show:this.state.inputModalShow,onHide:this.inputModalClose,dialogClassName:"inputmodal",animation:!1},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Set Input")),r.a.createElement(j.a.Body,null,r.a.createElement("div",{className:"input-column"},r.a.createElement(S.a,{as:"textarea",className:"input-modal-input",value:this.state.input,onChange:this.inputUpdate,autoFocus:!0})),r.a.createElement("div",{style:{paddingTop:"15px"}},r.a.createElement(w.a,{variant:"outline-secondary",onClick:this.inputModalClose,style:{float:"right"}},"Set Input")))),r.a.createElement("div",{className:"mainbody"},r.a.createElement(x.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},r.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),r.a.createElement(b.a,{className:"buttontoolbar"},r.a.createElement(g.a,null,r.a.createElement(N.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Set input")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.setInput},r.a.createElement(O.e,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Build")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.parseCode},r.a.createElement(O.d,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Run")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode},r.a.createElement(O.f,null))))),r.a.createElement(g.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Disable all breakpoints")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},r.a.createElement(O.h,null)))," ",r.a.createElement(m.b,{to:{pathname:"/debug",state:{code:this.state.code,breakpoints:this.state.breakpoints}}},r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Run in debug mode")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm"},r.a.createElement(O.b,null))))),r.a.createElement(g.a,null,r.a.createElement(y.a,{key:"highlighting-tooltip",placement:"top",overlay:r.a.createElement(C.a,null,"Toggle highlighting\n                    improves speed if disabled")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleHighlighting,active:this.state.highlightedCodeChunk},r.a.createElement(O.c,null))))),r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{id:"code-area",className:"code-area"},r.a.createElement("div",{id:"breakpoint-column",className:"breakpoint-column"},this.breakpointsColumn(this.state.code)),r.a.createElement("div",{className:"line-number-column"},this.createLineNumberColumn()),this.state.code&&r.a.createElement(r.a.Fragment,null,this.state.highlightedCodeChunk?r.a.createElement(R.a,{mode:"sigma16",value:this.state.code,onChange:this.updateCode,options:{lineNumbers:!1,scrollbarStyle:"null"},autoFocus:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{as:"textarea",className:"code-chunk-column",value:this.state.code,onChange:this.codeBlockEdit,autoFocus:!0}))))))))}}]),a}(r.a.PureComponent),le=(a(84),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).disableBreakpoints=function(e){r.setState({breakpoints:[]}),r.setState({breakpointsMachineCode:[]})},r.closeAlert=function(e){r.setState({alertShow:!1})},r.runCode=function(e){var t=r.canRunCode(r.state.code,r.state.machineCode),a={halted:!1};if(t.length)r.updateAlert(t,"danger");else{for(var n=r.state.cpuControl,s=r.state.registers,l=ae(r.state.machineCode),o=r.state.input,i=r.state.output,c=r.state.activeLine,u=!1;!a.halted&&!u;)void 0!==a.control&&(c=a.control.pc),n=(a=re(n,s,l,o,i)).control,s=a.registers,l=a.memory,o=a.input,i=a.output,Object.keys(l).includes(String(n.pc))||(a.halted=!0),r.state.breakpointsMachineCode.includes(a.control.pc)&&(u=!0);r.setState({cpuControl:n}),r.setState({registers:s}),r.setState({memory:l}),r.setState({output:i}),r.setState({lastLine:c}),r.setState({activeLine:n.pc}),r.setState({halted:a.halted})}},r.stepForward=function(e){var t={halted:!1},a=r.state.cpuControl,n=r.state.registers,s=ae(r.state.machineCode),l=r.state.input,o=r.state.output;a=(t=re(a,n,s,l,o)).control,n=t.registers,s=t.memory,l=t.input,o=t.output,Object.keys(s).includes(String(a.pc))||(t.halted=!0),r.setState({cpuControl:a}),r.setState({registers:n}),r.setState({memory:s}),r.setState({output:o}),r.setState({lastLine:r.state.activeLine}),r.setState({activeLine:a.pc}),r.setState({halted:t.halted})},r.resetDebug=function(e){r.resetCPUandMemory(),r.setState({memory:ae(r.state.machineCode)}),r.setState({lastLine:0}),r.setState({activeLine:0}),r.setState({halted:!1})},r.state={code:"",breakpoints:[],alertShow:!1,alertMessage:"",alertNature:"success",machineCode:[],registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:"",lastLine:0,activeLine:0,breakpointsMachineCode:[],halted:!1},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e="",t=[];this.props.location.state?(e=this.props.location.state.code,t=this.props.location.state.breakpoints,this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints})):void 0!==this.props.code&&(e=this.props.code,e=this.props.code,this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}));var a=this.parseCode(e,t);this.setState({memory:ae(a)})}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("strong",null,t[a])),r.a.createElement(g.a,{style:{textAlign:"right"}},"$",V(this.state.cpuControl[t[a]])))));return e}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(r.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("strong",null,"R"+t)),r.a.createElement(g.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(C.a,null,P(this.state.registers[t]),"/",Z(this.state.registers[t]))},r.a.createElement("span",null,"$",V(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(S.a,{className:"output-area",as:"textarea",value:this.state.output,onClick:this.resizeOutput,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++){var n="systeminfo-column-elem",s="";a===this.state.lastLine&&(n="systeminfo-column-elem last"),a===this.state.activeLine&&(n="systeminfo-column-elem active"),this.state.breakpointsMachineCode.includes(a)&&(s="underline"),e.push(r.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:n},r.a.createElement(b.a,{style:{textDecoration:s}},r.a.createElement(g.a,{className:n},r.a.createElement("strong",null,"$",V(t[a]))),r.a.createElement(g.a,{className:n,style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(C.a,null,P(this.state.memory[t[a]]),"/",Z(this.state.memory[t[a]]))},r.a.createElement("span",null,"$",V(this.state.memory[t[a]])))))))}return e}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e}),this.setState({alertNature:t}),this.setState({alertShow:!0})}},{key:"checkCode",value:function(e){for(var t=e.toLowerCase().split("\n"),a=!0,n={},r=0,s={},l={},o=0,i=!0,c=0;c<t.length;c++)""!==(s=ee(t[c])).label&&(s.justLabel?(o+=1,l[s.label]=r-o+1):l[s.label]=r-o),r+=s.instructionWords;for(var u=0;u<t.length;u++)(a=Q(t[u],l)).length&&(n[u+1]=a,i=!1);return this.setState({lineError:n}),[i,n]}},{key:"parseCode",value:function(e,t){var a=e.split("\n"),n=0,r={},s={},l=0,o=[],i=this.checkCode(e);if(i[0]){for(var c=0;c<a.length;c++)""!==(r=ee(a[c])).label&&(r.justLabel?(l+=1,s[r.label]=n-l+1):s[r.label]=n-l),n+=r.instructionWords;for(var u=!1,m=[],p=0;p<a.length;p++){var d=a[p].trim();t.includes(p+1)&&(u=!0),""!==d&&""!==d.split(";")[0]&&(r=te(a[p],s))&&(u&&(m.push(o.length),u=!1),o.push(r[0]),J(Z(r[1]))&&o.push(r[1]))}this.setState({machineCode:o}),this.setState({breakpointsMachineCode:m})}else{for(var h=Object.keys(i[1]),b="",g=0;g<h.length;g++)0!==g&&(b+=", "),b+=h[g];this.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+b,"danger")}return o}},{key:"resetCPUandMemory",value:function(){this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0}}),this.setState({cpuControl:{pc:0,ir:0,adr:0}}),this.setState({output:""})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction. Can step-through.'):a="Cannot run no code. Try building then running",a}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{state:{code:this.state.code,breakpoints:this.state.breakpoints}}),r.a.createElement("div",{className:"mainbody"},r.a.createElement(x.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},r.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),r.a.createElement(b.a,{className:"buttontoolbar"},r.a.createElement(g.a,null,r.a.createElement(N.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Run till next breakpoint")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode,disabled:this.state.halted},r.a.createElement(O.f,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Step Forward")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.stepForward,disabled:this.state.halted},r.a.createElement(O.g,null))))),r.a.createElement(g.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Disable all breakpoints")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},r.a.createElement(O.h,null)))," ",r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(C.a,null,"Rerun")},r.a.createElement(w.a,{variant:"outline-secondary",size:"sm",onClick:this.resetDebug},r.a.createElement(O.a,null))))),r.a.createElement(b.a,null,r.a.createElement(g.a,null,r.a.createElement("h6",null,"Control/Registers")),r.a.createElement(g.a,null,r.a.createElement("h6",null,"Memory/Output"))),r.a.createElement(b.a,null,r.a.createElement(g.a,{className:"runmodal-left-col"},r.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),r.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn())),r.a.createElement(g.a,null,r.a.createElement("div",{id:"memory-column",className:"memory-column"},this.memoryColumn()),r.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn())))))}}]),a}(r.a.Component)),oe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n.state.code="lea r1,2[r0]\nlea r2,buffer[r0]\nload r3,buffersize[r0]\n\ntrap r1,r2,r3\n\ntrap r0,r0,r0\n\nbuffersize data 13\nbuffer data $0048\n  data $0065\n  data $006c\n  data $006c\n  data $006f\n  data $002c\n  data $0020\n  data $0057\n  data $006f\n  data $0072\n  data $006c\n  data $0064\n  data $0021",n.state.breakpoints=[],n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.code,t=this.state.breakpoints;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(h,{exact:!0,path:"/",component:v,props:{code:e,breakpoints:t}}),r.a.createElement(h,{exact:!0,path:"/documentation",component:E,props:{code:e,breakpoints:t}}),r.a.createElement(h,{exact:!0,path:"/editor",component:se,props:{code:e,breakpoints:t}}),r.a.createElement(h,{exact:!0,path:"/debug",component:le,props:{code:e,breakpoints:t}}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.4d69432a.chunk.js.map