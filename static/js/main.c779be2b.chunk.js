(this.webpackJsonpSigma17=this.webpackJsonpSigma17||[]).push([[0],{66:function(e,t,a){e.exports=a(92)},71:function(e,t,a){},72:function(e,t,a){},77:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},89:function(e,t,a){!function(e){var t;(t=a(56)).defineMode("sigma16",(function(){var e=function(e){return e.split(" ")},a=["add","sub","mul","div","cmp","cmplt","cmpeq","cmpgt","inv","invold","and","andold","or","orold","xor","xorold","trap","lea","load","store","jump","jumpc0","jumpc1","jumpf","jumpt","jal","testset","jumplt","jumple","jumpne","jumpeq","jumpge","jumpgt","data","rfi","save","restore","getctl","putctl","execute","push","pop","top","shiftl","shiftr","extract","extracti","inject","injecti","logicw","logicb","getbit","getbiti","putbit","putbiti","field","andb","orb","xorb","invb","andnew","ornew","xornew","invnew","addc"];function n(t,a){if(t.eatSpace())return null;if(t.eat(","))return null;if(t.eat("["))return null;if(t.eat("]"))return null;var n=t.next(),r=t.peek();if(";"===n)return t.skipToEnd(),"comment";if(/(r|R)([0-9])/.test(n+r))return/(1)/.test(r)?(t.next(),r=t.peek(),/([0-5])/.test(r)&&t.next()):t.next(),"def";if("$"===n){if(t.eatWhile(/((\d)|([a-f])|([A-F]))/),t.eol()||!/\w/.test(t.peek()))return"number"}else if("-"===n){if(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek()))return"number"}else if(/\d/.test(n)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w]/);var l=t.current();return e.hasOwnProperty(l)?e[l]:"variable"}function r(e,t){return(t.tokens[0]||n)(e,t)}return t.registerHelper("hintWords","sigma16",a),function(t,a){for(var n=0;n<a.length;n++)e[a[n]]=t}("keyword",a),{startState:function(){return{tokens:[]}},token:function(e,t){return r(e,t)},closeBrackets:"[]",lineComment:";",fold:"brace"}})),t.defineMIME("text/plain","sigma16")}()},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),s=a.n(l),o=(a(71),a(13)),i=a(14),c=a(16),u=a(15),m=(a(72),a(17)),d=a(7),p=a(64),h=function(e){var t=e.component,a=e.props,n=Object(p.a)(e,["component","props"]);return r.a.createElement(d.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},g=(a(77),a(97)),b=a(98),k=a(104),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{fill:!0,variant:"tabs"},r.a.createElement(k.a.Item,null,r.a.createElement(m.c,{className:"nav-link",to:{pathname:"/",state:this.props.state}},"Home")),r.a.createElement(k.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/documentation",state:this.props.state}},"Documentation")),r.a.createElement(k.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/editor",state:this.props.state}},"Editor")),r.a.createElement(k.a.Item,null,r.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/debug",state:this.props.state}},"Debug")))}}]),a}(r.a.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={code:"",breakpoints:[],input:""},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{state:this.state}),r.a.createElement("div",{className:"mainbody"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("h1",null,"Sigma17 home page"))),r.a.createElement(g.a,null,r.a.createElement(b.a,null,"Sigma16 is a computer architecture designed for research and teaching in computer systems. This application provides a complete environment for experimenting with the architecture.")),r.a.createElement(g.a,null,r.a.createElement(b.a,null,"Currently, this emulator and IDE runs ",r.a.createElement("strong",null,"fully functional")," on ",r.a.createElement("strong",null,"Google Chrome")," and ",r.a.createElement("strong",null,"Safari"),". Minor features - limited to double clicking to resize outputs - are unavailable on ",r.a.createElement("strong",null,"Firefox")," and ",r.a.createElement("strong",null,"Edge"),", however the core of the website - breakpoints, emulation, editting and running - are unaffected and the website will still look and operate correctly.")),r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("div",{className:"click-editor"},r.a.createElement(m.b,{to:{pathname:"/editor",state:this.state}},"Click Here To Run IDE")))),r.a.createElement(g.a,null,r.a.createElement(b.a,null,"This web based IDE is not to be used in complete replacement the orignal written by John O'Donnel as it has properties of it which could mean that programs written using this emulator ",r.a.createElement("strong",null,"will not work")," with the orignal and could lead to repurcussions because of it.")),r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("div",{className:"click-editor"},r.a.createElement("a",{href:"https://github.com/QuestioWo/Sigma17"},"View Source Directory on GitHub"))))))}}]),a}(r.a.Component),E=(a(80),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={code:"",breakpoints:[],input:""},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{state:this.state}),r.a.createElement("div",{className:"mainbody"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,"Empty for now"))))}}]),a}(r.a.Component)),y=(a(55),a(81),a(105)),w=a(99),C=a(100),R=a(103),x=a(61),N=a(106),j=a(63),S=a(101),M=a(62),O=a(8),A=a(39),P=a.n(A),X={add:"rrr",sub:"rrr",mul:"rrr",div:"rrr",cmplt:"rrr",cmpeq:"rrr",cmpgt:"rrr",and:"rrr",andold:"rrr",or:"rrr",orold:"rrr",xor:"rrr",xorold:"rrr",trap:"rrr",cmp:"rr",inv:"rr",invold:"rr",lea:"rx",load:"rx",store:"rx",jumpf:"rx",jumpt:"rx",jal:"rx",testset:"rx",jump:"jx",jumpc0:"kx",jumpc1:"kx",jumple:"jumpAlias",jumpne:"jumpAlias",jumpge:"jumpAlias",jumpnv:"jumpAlias",jumpnvu:"jumpAlias",jumpnco:"jumpAlias",jumplt:"jumpAlias",jumpeq:"jumpAlias",jumpgt:"jumpAlias",jumpv:"jumpAlias",jumpvu:"jumpAlias",jumpco:"jumpAlias",data:"x",rfi:"noEXP",execute:"rrEXP",save:"rrxEXP",restore:"rrxEXP",getctl:"rcEXP",putctl:"rcEXP",push:"rrrEXP",pop:"rrrEXP",top:"rrrEXP",addc:"rrrEXP",shiftl:"rrkEXP",shiftr:"rrkEXP",getbit:"rkEXP",getbiti:"rkEXP",putbit:"rkEXP",putbiti:"rkEXP",field:"injectIAlias",extract:"rrkkEXP",extracti:"rrkkEXP",inject:"rrrkkEXP",injecti:"rrrkkEXP",logicb:"rrrkkEXP",logicw:"rrrkEXP",andb:"logicAliasRRRK",orb:"logicAliasRRRK",xorb:"logicAliasRRRK",invb:"logicAliasRRK",andnew:"logicAliasRRR",ornew:"logicAliasRRR",xornew:"logicAliasRRR",invnew:"logicAliasRR"},$={testset:"Assembles but no functionality",rfi:"Assembles, but hangs when ran in a program",execute:"Assembles, however, not as per docs and has no functionality",getctl:"Assembles differently and has different range of functionality",putctl:"Assembles differently and has different range of functionality",push:"Assembles but no functionality",pop:"Assembles but no functionality",top:"Assembles but no functionality",field:"Assembler accepts but does not produce any codes",andnew:'Assembler does not recognise but same functionality can be had with "and"',ornew:'Assembler does not recognise but same functionality can be had with "or"',xornew:'Assembler does not recognise but same functionality can be had with "xor"',invnew:'Assembler does not recognise but same functionality can be had with "inv"'},L=["addc","getbit","getbiti","putbit","putbiti"],D=Math.pow(16,3),T=Math.pow(16,2),W=Math.pow(16,1),B=Math.pow(16,0),I={cmp:4,inv:8,invold:8},F={add:0,sub:1,mul:2,div:3,cmplt:5,cmpeq:6,cmpgt:7,and:9,andold:9,or:10,orold:10,xor:11,xorold:11,trap:13},H={jump:3},z={jumple:[4,1],jumpne:[4,2],jumpge:[4,3],jumpnv:[4,6],jumpnvu:[4,5],jumpnco:[4,7],jumplt:[5,3],jumpeq:[5,2],jumpgt:[5,1],jumpv:[5,6],jumpvu:[5,5],jumpco:[5,7]},U={jumpc0:4,jumpc1:5},K={lea:0,load:1,store:2,jumpf:6,jumpt:7,jal:8,testset:9},V={data:0},G={rfi:0},Z={execute:12},q={save:8,restore:9},J={getctl:10,putctl:11},Q={push:13,pop:14,top:15,addc:28},Y={shiftl:16,shiftr:17},_={getbit:24,getbiti:25,putbit:26,putbiti:27},ee={extract:18,extracti:19},te={inject:20,injecti:21,logicb:23},ae={logicw:22},ne={andb:[23,1],orb:[23,7],xorb:[23,6]},re={invb:[23,12]},le={andnew:[22,1],ornew:[22,7],xornew:[22,6]},se={invnew:[22,12]},oe={field:[21,0,0]};function ie(e){return(e=Number(e))<65536&&e>=-32768?((32768&e)>0&&(e-=65536),e):65536}function ce(e){return e<65536&&e>=-32768?(e<0&&(e+=65536),e):65536}function ue(e,t){var a=0;return isNaN(e)?de(e)?(e=e.slice(1,e.length),a=parseInt(e,16)):a=t&&Object.keys(t).includes(e)?t[e]:e:a=ce(Number(e)),a}function me(e){return isNaN(e)&&de(e)?"$"+he(e.slice(1,e.length)):e}function de(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=ce(parseInt(e,16))):t=65536:t=ce(parseInt(e)),t<65536&&t>=0}function pe(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=parseInt(e,16)):t=16:t=parseInt(e),t<=15&&t>=0}function he(e){if(void 0!==e){for(e.length||(e=e.toString(16));e.length<4;)e="0"+e;return e}return e}function ge(e,t){for(var a=e<<t;a>=65536;)a-=65536;return a>>=15}function be(e,t,a){var n=15-a;return e&(65535&~(1<<n))|t<<n}function ke(e,t,a,n){var r=15-a,l=65535>>>15-a+n;return e&(65535&~(l<<r))|(t&l)<<r}function fe(e){return!!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9]))$/.test(e)||'arguments must be in the form of "Ra,Rb"'}function ve(e){return!!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9]))$/.test(e)||'arguments must be in the form of "Rd,Ra,Rb"'}function Ee(e,t){if(!/^((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "disp[Ra]"';var a=e.split("[")[0];return!!de(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}function ye(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e)?!!function(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=parseInt(e,16)):t=16:t=parseInt(e),t<=255&&t>=0}(e.split(",")[2].split("[")[0])||"disp argument must either be a decimal, or a hex with decimal values between 0 and 255":'arguments must be in the form of "Re,Rf,disp[Rd]", negative integers not allowed'}function we(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(e)?!!pe(e.split(",")[2])||"g argument must either be a decimal, or a hex value between 0 and 15":'arguments must be in the form of "Rd,Re,g", negative integers not allowed'}function Ce(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(e)?!!pe(e.split(",")[3])||"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":'arguments must be in the form of "Rd,Re,Rf,g", negative integers not allowed'}function Re(e,t,a){var n,r,l=!0;switch(X[e]){case"rr":l=t?fe(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"rrr":l=t?ve(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"jx":case"jumpAlias":l=t?Ee(t,a):e+" must be followed by arguments in the format of disp[Ra]";break;case"kx":l=t?function(e,t){if(!/^((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "k,disp[Ra]", negative integers not allowed for k argument';var a=e.split(","),n=a[0],r=a[1].split("[")[0];return pe(n)?!!de(r)||(!!Object.keys(t).includes(r)||"disp argument must either be a decimal, a hex or an initailised label"):"k argument must either be a decimal, a hex value between 0 and 15, negative integers not allowed"}(t,a):e+" must be followed by arguments in the format of k,disp[Ra], where k is a bit";break;case"rx":l=t?function(e,t){if(!/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "Rd,disp[Ra]"';var a=e.split(",")[1].split("[")[0];return!!de(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}(t,a):e+" must be followed by arguments in the format of Rd,disp[Ra]";break;case"x":l=t?/^((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+$/.test(r=t)?!!de(r)||"data must be followed by either a decimal or hex number <= 65535 and >=-32768":'arguments must be in the form of "constant" up to 65535 and down to -32768':e+" must be followed by a number, either decimal or hex ( preceeded by $ )";break;case"noEXP":l=!0;break;case"rrEXP":l=t?fe(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"rrxEXP":l=t?ye(t):e+" must be followed by 2 registers then a disp in the form of Rx,Rx,disp[Rx]";break;case"rcEXP":l=t?!!/^([rR]((1[0-5])|([0-9])),((ir)|(pc)|(adr)))$/.test(t)||'arguments must be in the form of "Rd,controlRegisterName"':e+" must be followed by a register and a control register in the form Rx,(pc/ir/adr)";break;case"rrrEXP":l=t?ve(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"rrkEXP":l=t?we(t):e+" must be followed by 2 registers and a constant in form Rx,Rx,k";break;case"rkEXP":l=t?/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(n=t)?!!pe(n.split(",")[1])||"g argument must either be a decimal, or a hex value between 0 and 15":'arguments must be in the form of "Rd,g", negative integers not allowed':e+" must be followed by a register and a constant in form Rx,k";break;case"rrkkEXP":l=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,Re,g,h", negative integers not allowed';var t=e.split(","),a=t[2],n=t[3];return pe(a)?!!pe(n)||"h argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed"}(t):e+" must be followed by 2 registers and 2 constants in form Rx,Rx,k1,k2";break;case"rrrkkEXP":l=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,Re,Rf,g,h", negative integers not allowed';var t=e.split(","),a=t[3],n=t[4];return pe(a)?!!pe(n)||"h argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed"}(t):e+" must be followed by 3 registers and 2 constants in form Rx,Rx,Rx,k1,k2";break;case"rrrkEXP":case"logicAliasRRRK":l=t?Ce(t):e+" must be followed by 3 registers and a constant in form Rx,Rx,Rx,k";break;case"logicAliasRRK":l=t?we(t):e+" must be followed by 2 registers and a constant in form Rx,Rx,k";break;case"logicAliasRRR":l=t?ve(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"logicAliasRR":l=t?fe(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"injectIAlias":l=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,g,h", negative integers not allowed';var t=e.split(",")[1],a=e.split(",")[2];return pe(t)?!!pe(a)||"h argument must either be a decimal, or a hex value between 0 and 15":"g argument must either be a decimal, or a hex value between 0 and 15"}(t):e+" must be followed by a register and 2 constants in form Rx,k1,k2";break;default:l="not a valid command with known command type"}return l}function xe(e,t){var a=e.trim().split(";")[0].split(/\s+/),n=!0;return a[0]&&(Object.keys(X).includes(a[0])?n=Re(a[0],a[1],t):/\w/.test(a[0])&&a[1]&&(n=Object.keys(X).includes(a[1])?Re(a[1],a[2],t):"not a valid command following label")),n}function Ne(e){var t={warn:"",error:""};return Object.keys($).includes(e)?t.warn=$[e]:L.includes(e)&&(t.error="Assembler does not recognise command at all and will return an error"),t}function je(e){var t=e.trim().split(";")[0].split(/\s+/),a={warn:"",error:""};return t[0]&&(Object.keys(X).includes(t[0])?a=Ne(t[0]):/\w/.test(t[0])&&t[1]&&Object.keys(X).includes(t[1])&&(a=Ne(t[1]))),a}function Se(e){for(var t,a=e.split("\n"),n={},r={},l=!0,s=0;s<a.length;s++)(t=je(a[s])).warn.length?n[s+1]=t:t.error.length&&(r[s+1]=t,l=!1);return[l,n,r]}function Me(e,t){var a={words:0,type:"",op:0};switch(X[e]){case"rr":a.words=1,a.type="rrr",a.op=I[e];break;case"rrr":a.words=1,a.type="rrr",a.op=F[e];break;case"jx":a.words=2,a.type="rx",a.op=H[e];break;case"jumpAlias":a.words=2,a.type="rx",a.op=z[e][0];break;case"kx":a.words=2,a.type="rx",a.op=U[e];break;case"rx":a.words=2,a.type="rx",a.op=K[e];break;case"x":a.words=1,a.type="x",a.op=V[e];break;case"noEXP":a.words=1,a.type="exp0",a.op=G[e];break;case"rrEXP":a.words=2,a.type="exp4",a.op=Z[e];break;case"rrxEXP":a.words=2,a.type="exp8",a.op=q[e];break;case"rcEXP":a.words=2,a.type="exp4",a.op=J[e];break;case"rrrEXP":a.words=2,a.type="exp4",a.op=Q[e];break;case"rrkEXP":a.words=2,a.type="exp4",a.op=Y[e];break;case"rkEXP":a.words=2,a.type="exp4",a.op=_[e];break;case"rrkkEXP":a.words=2,a.type="exp4",a.op=ee[e];break;case"rrrkkEXP":a.words=2,a.type="exp4",a.op=te[e];break;case"rrrkEXP":a.words=2,a.type="exp4",a.op=ae[e];break;case"logicAliasRRRK":a.words=2,a.type="exp4",a.op=ne[e][0];break;case"logicAliasRRK":a.words=2,a.type="exp4",a.op=re[e][0];break;case"logicAliasRRR":a.words=2,a.type="exp4",a.op=le[e][0];break;case"logicAliasRR":a.words=2,a.type="exp4",a.op=se[e][0];break;case"injectIAlias":a.words=2,a.type="exp4",a.op=oe[e][0]}return a}function Oe(e,t,a){var n=0,r=65536,l=Me(e),s=function(e,t,a){var n={d:0,a:0,b:0,disp:0,e:0,f:0,g:0,h:0,gh:0},r=[];switch(X[e]){case"rr":r=t.split(","),n.a=Number(r[0].slice(1,r[0].length)),n.b=Number(r[1].slice(1,r[1].length)),n.d=n.a;break;case"rrr":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.a=Number(r[1].slice(1,r[1].length)),n.b=Number(r[2].slice(1,r[2].length));break;case"jx":r=t.split("["),n.a=Number(r[1].slice(1,r[1].length-1)),n.disp=ue(r[0],a),n.d=0;break;case"jumpAlias":r=t.split("["),n.a=Number(r[1].slice(1,r[1].length-1)),n.disp=ue(r[0],a),n.d=z[e][1];break;case"kx":r=t.split(","),n.d=ue(r[0],a),r=r[1].split("["),n.a=Number(r[1].slice(1,r[1].length-1)),n.disp=ue(r[0],a);break;case"rx":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),r=r[1].split("["),n.a=Number(r[1].slice(1,r[1].length-1)),n.disp=ue(r[0],a);break;case"x":n.disp=ue(t,a);break;case"noEXP":break;case"rrEXP":r=t.split(","),n.e=Number(r[0].slice(1,r[0].length)),n.f=Number(r[1].slice(1,r[1].length));break;case"rrxEXP":r=t.split(","),n.e=Number(r[0].slice(1,r[0].length)),n.f=Number(r[1].slice(1,r[1].length)),r=r[2].split("["),n.d=Number(r[1].slice(1,r[1].length-1)),n.gh=ue(r[0],a);break;case"rcEXP":switch(r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),r[1]){case"pc":n.g=1;break;case"ir":n.g=2;break;case"adr":n.g=3;break;default:n.g=0}break;case"rrrEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.f=Number(r[2].slice(1,r[2].length));break;case"rrkEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.g=ue(r[2],a);break;case"rkEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.g=ue(r[1],a);break;case"rrkkEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.g=ue(r[2],a),n.h=ue(r[3],a);break;case"rrrkkEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.f=Number(r[2].slice(1,r[2].length)),n.g=ue(r[3],a),n.h=ue(r[4],a);break;case"rrrkEXP":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.f=Number(r[2].slice(1,r[2].length)),n.g=ue(r[3],a);break;case"logicAliasRRRK":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.f=Number(r[2].slice(1,r[2].length)),n.g=ne[e][1],n.h=ue(r[3],a);break;case"logicAliasRRK":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.g=re[e][1],n.h=ue(r[2],a);break;case"logicAliasRRR":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.f=Number(r[2].slice(1,r[2].length)),n.g=le[e][1];break;case"logicAliasRR":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=Number(r[1].slice(1,r[1].length)),n.g=se[e][1];break;case"injectIAlias":r=t.split(","),n.d=Number(r[0].slice(1,r[0].length)),n.e=oe[e][1],n.f=oe[e][2],n.g=ue(r[1],a),n.h=ue(r[2],a)}return n}(e,t,a);switch(l.type){case"rrr":n+=l.op*D+s.d*T+s.a*W+s.b*B;break;case"rx":n+=15*D+s.d*T+s.a*W+l.op*B,r=s.disp;break;case"x":n+=s.disp;break;case"exp0":n+=14*D+s.d*T+l.op*B;break;case"exp4":n+=14*D+s.d*T+l.op*B,r=s.e*D+s.f*T+s.g*W+s.h*B;break;case"exp8":n+=14*D+s.d*T+l.op*B,r=s.e*D+s.f*T+s.gh*B}return[n,r]}function Ae(e){var t=e.trim().split(";")[0].split(/\s+/),a={label:"",instructionWords:0,justLabel:!1};return t[0]&&""!==t[0]&&(Object.keys(X).includes(t[0])?a.instructionWords=Me(t[0],t[1]).words:/\w/.test(t[0])&&(t[1]?Object.keys(X).includes(t[1])&&(a.label=t[0],a.instructionWords=Me(t[1],t[2]).words):(a.label=t[0],a.instructionWords=1,a.justLabel=!0))),a}function Pe(e,t){var a=[0,65536],n=e.trim().split(";")[0].split(/\s+/);return n[0]&&""!==n[0]&&(Object.keys(X).includes(n[0])?a=Oe(n[0],n[1],t):/\w/.test(n[0])&&(n[1]?Object.keys(X).includes(n[1])&&(a=Oe(n[1],n[2],t)):a=void 0)),a}function Xe(e){var t=e.trim().split(";")[0].split(/\s+/),a={label:" ",command:"",argument:"",comment:""};return e.includes(";")&&(a.comment=";"+e.trim().split(";")[1]),t[0]&&""!==t[0]&&(Object.keys(X).includes(t[0])?(a.command=t[0],a.argument=t[1]):/\w/.test(t[0])&&(a.label=t[0]+" ",t[1]?Object.keys(X).includes(t[1])&&(a.command=t[1],a.argument=t[2]):a.label=t[0]+" ")),a}function $e(e){var t=e.label,a=[];if(e.command.length)switch(t+=e.command+" ",X[e.command]){case"rr":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length);break;case"rrr":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+="R"+a[2].slice(1,a[2].length);break;case"jx":case"jumpAlias":t+=me((a=e.argument.split("["))[0]),t+="[",t+="R"+a[1].slice(1,a[1].length);break;case"kx":t+=(a=e.argument.split(","))[0],t+=",",t+=me((a=a[1].split("["))[0]),t+="[",t+="R"+a[1].slice(1,a[1].length);break;case"rx":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+=me((a=a[1].split("["))[0]),t+="[",t+="R"+a[1].slice(1,a[1].length);break;case"x":t+=me(e.argument);break;case"noEXP":break;case"rrEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length);break;case"rrxEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+=me((a=a[2].split("["))[0]),t+="[",t+="R"+a[1].slice(1,a[1].length);break;case"rcEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+=a[1];break;case"rrrEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+="R"+a[2].slice(1,a[2].length);break;case"rrkEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+=a[2];break;case"rkEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+=a[1];break;case"rrkkEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+=a[2],t+=",",t+=a[3];break;case"rrrkkEXP":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+="R"+a[2].slice(1,a[2].length),t+=",",t+=a[3],t+=",",t+=a[4];break;case"rrrkEXP":case"logicAliasRRRK":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+="R"+a[2].slice(1,a[2].length),t+=",",t+=a[3];break;case"logicAliasRRK":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+=a[2];break;case"logicAliasRRR":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length),t+=",",t+="R"+a[2].slice(1,a[2].length);break;case"logicAliasRR":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+="R"+a[1].slice(1,a[1].length);break;case"injectIAlias":t+="R"+(a=e.argument.split(","))[0].slice(1,a[0].length),t+=",",t+=a[1],t+=",",t+=a[2]}return t+=e.comment}function Le(e){for(var t={},a=0;a<e.length;a++)t[a]=e[a];return t}function De(e,t,a){var n=ie(e),r=ie(t),l=!1;return n>r?a.g=1:n<r?a.l=1:l=!0,e>t?a.G=1:e<t?a.L=1:l&&(a.E=1),a}function Te(e,t,a,n,r,l,s){var o=!1,i={},c=!1,u=0,m=Math.floor(l/D),d=Math.floor((l-m*D)/T),p=Math.floor((l-d*T-m*D)/W),h=Math.floor((l-p*W-d*T-m*D)/B),g=t[p],b=t[h],k={G:0,g:0,E:0,l:0,L:0,V:0,v:0,C:0,S:0},f=!1;switch(e.ir=l,e.adr=s,m){case 0:u=1,t[d]=g+b,t[d]>=65536&&(t[d]-=65536,k.V=1,k.C=1),k=De(t[d],t[0],k),f=!0;break;case 1:u=1,g=ie(g),b=ie(b),t[d]=g,g<b&&(k.v=1),t[d]-=b,k=De(ce(t[d]),t[0],k),f=!0;break;case 2:if(u=1,t[d]=g*b,t[d]>=65536)for(k.V=1;t[d]>=65536;)t[d]-=65536;k=De(t[d],t[0],k),f=!0;break;case 3:u=1,g=ie(g),0!==(b=ie(b))?(t[d]=Math.floor(g/b),15!==d&&(t[15]=g%b)):(t[d]=g,15!==d&&(t[15]=0));break;case 4:u=1,k=De(g,b,k),f=!0;break;case 5:u=1,ie(g)<ie(b)?t[d]=1:t[d]=0;break;case 6:u=1,ie(g)===ie(b)?t[d]=1:t[d]=0;break;case 7:u=1,ie(g)>ie(b)?t[d]=1:t[d]=0;break;case 8:u=1,t[p]=65535^b;break;case 9:u=1,t[d]=t[p]&t[h];break;case 10:u=1,t[d]=t[p]|t[h];break;case 11:u=1,t[d]=t[p]^t[h];break;case 12:u=1;break;case 13:u=1,e=(i=function(e,t,a,n,r,l,s,o){var i=!1;switch(t[l]){case 0:i=!0;break;case 1:for(var c=t[s],u=0;u<t[o];u++)n.length>u?a[c+u]=n.charCodeAt(u):a[c+u]=0;r+=">>"+n.slice(0,t[o]),n=n.slice(t[o],n.length);break;case 2:for(var m=t[s],d=0;d<t[o];d++)a[m+d]?r+=String.fromCharCode(a[m+d]):r+=String.fromCharCode(0)}return{control:e,registers:t,memory:a,input:n,output:r,halted:i}}(e,t,a,n,r,d,p,h)).control,t=i.registers,a=i.memory,n=i.input,r=i.output,o=i.halted;break;case 14:i=function(e,t,a,n,r,l,s,o,i){var c=!1,u=!1,m={G:0,g:0,E:0,l:0,L:0,V:0,v:0,C:0,S:0},d=!1,p=s*W+o,h=Math.floor(i/D),g=Math.floor((i-h*D)/T),b=Math.floor(i-g*T-h*D),k=Math.floor(b/W),f=Math.floor((b-k*W)/B),v=1;switch(p){case 0:v=1;break;case 8:v=2;var E=t[l]+b,y=0;y=h>g?Math.abs(h-(g+16)):Math.abs(h-g);for(var w=h;w<=h+y;w++){var C=w%16;a[E+(w-h)]=t[C]}break;case 9:v=2;var R=t[l]+b,x=0;x=h>g?Math.abs(h-(g+16)):Math.abs(h-g);for(var N=h;N<=h+x;N++){var j=N%16;a[R+(N-h)]?t[j]=a[R+(N-h)]:t[j]=0}break;case 10:switch(v=2,k){case 1:t[l]=e.pc;break;case 2:t[l]=e.ir;break;case 3:t[l]=e.adr}break;case 11:switch(v=2,k){case 1:e.pc=t[l],u=!0;break;case 2:e.ir=t[l];break;case 3:e.adr=t[l]}break;case 12:if(v=2,57356!==t[h]||t[g]!==i){var S=Te(e,t,a,n,r,t[h],t[g]);e=S.control,t=S.registers,a=S.memory,n=S.input,r=S.output,c=S.halted,u=S.jumped,e.ir=57356,e.adr=i,d=!0}else c=!0;break;case 13:v=2,t[h]<t[g]?(t[h]+=1,a[t[h]]=t[l]):(m.S=1,d=!0);break;case 14:v=2,t[h]<=t[g]&&(t[l]=a[t[h]],t[h]-=1);break;case 15:v=2,t[l]=a[t[h]];break;case 16:if(v=2,t[l]=t[h]<<k,t[l]>=65536&&15!==l)for(m.V=1;t[l]>=65536;)t[l]-=65536;d=!0;break;case 17:v=2,t[l]=t[h]>>k;break;case 18:v=2;var M=0;for(M=t[h]<<k;M>=65536;)M-=65536;M>>=15-f+k,t[l]=M;break;case 19:v=2;var O=0;for(O=65535^t[h],O<<=k;O>=65536;)O-=65536;O>>>=15-f+k,t[l]=O;break;case 20:v=2,t[l]=ke(t[h],t[g],f,k);break;case 21:v=2,t[l]=ke(t[h],65535^t[g],f,k);break;case 22:switch(v=2,k){case 1:t[l]=t[h]&t[g];break;case 6:t[l]=t[h]^t[g];break;case 7:t[l]=t[h]|t[g];break;case 12:t[l]=65535^t[h]}break;case 23:switch(v=2,k){case 1:var A=ge(t[h]&t[g],f);t[l]=be(t[l],A,f);break;case 6:var P=ge(t[h]^t[g],f);t[l]=be(t[l],P,f);break;case 7:var X=ge(t[h]|t[g],f);t[l]=be(t[l],X,f);break;case 12:var $=1^ge(t[h],f);t[l]=be(t[l],$,f)}break;case 24:v=2;var L=ge(t[15],k);t[l]=L;break;case 25:v=2;var I=ge(t[15],k);t[l]=1^I;break;case 26:v=2;var F=ge(t[l],k);t[15]=be(t[15],F,k);break;case 27:v=2;var H=1^ge(t[l],k);t[15]=be(t[15],H,k);break;case 28:v=2;var z=ge(t[15],7);t[l]=t[h]+t[g]+z,t[l]>=65536&&(t[l]-=65536,m.V=1,m.C=1),m=De(t[l],t[0],m),d=!0;break;default:v=1}return{control:e,registers:t,memory:a,input:n,output:r,instructionWords:v,halted:c,jumped:u,flagDict:m,setR15:d}}(e,t,a,n,r,d,p,h,s),e=i.control,t=i.registers,a=i.memory,n=i.input,r=i.output,u=i.instructionWords,o=i.halted,c=i.jumped,k=i.flagDict,f=i.setR15;break;case 15:u=2,i=function(e,t,a,n,r,l,s){for(var o=t[r]+s;o>=65536;)o-=65536;var i=!1;switch(l){case 0:t[n]=o;break;case 1:a[o]?t[n]=a[o]:t[n]=0;break;case 2:a[o]=t[n];break;case 3:e.pc=o,i=!0;break;case 4:0===(t[15]&Math.pow(2,15-n))&&(e.pc=o,i=!0);break;case 5:(t[15]&Math.pow(2,15-n))>0&&(e.pc=o,i=!0);break;case 6:0===t[n]&&(e.pc=o,i=!0);break;case 7:1===t[n]&&(e.pc=o,i=!0);break;case 8:t[n]=e.pc+2,e.pc=o,i=!0;break;case 9:t[n]=a[o],a[o]=1}return{control:e,registers:t,memory:a,jumped:i}}(e,t,a,d,p,h,s),e=i.control,t=i.registers,a=i.memory,c=i.jumped;break;default:u=1,o=!0}15!==d&&f&&(t[15]=function(e){var t=0;return 1===e.G&&(t+=32768),1===e.g&&(t+=16384),1===e.E&&(t+=8192),1===e.l&&(t+=4096),1===e.L&&(t+=2048),1===e.V&&(t+=1024),1===e.v&&(t+=512),1===e.C&&(t+=256),1===e.S&&(t+=128),t}(k));for(var v=0;v<16;v++)t[v]<0&&(t[v]=ce(t[v]));return t[0]=0,{control:e,registers:t,memory:a,input:n,output:r,halted:o,instructionWords:u,jumped:c}}function We(e,t,a,n,r){var l=a[e.pc],s=0;a[e.pc+1]&&(s=a[e.pc+1]);var o=Te(e,t,a,n,r,l,s);e=o.control,t=o.registers,a=o.memory,n=o.input,r=o.output;var i=o.halted,c=o.instructionWords;return o.jumped||(e.pc+=c),(Object.values(t).includes(NaN)||Object.values(t).includes(void 0))&&(console.log(e),console.log(t),console.log(a),r+="==== SEVERE SYSTEM ERROR ====",i=!0),{control:e,registers:t,memory:a,input:n,output:r,halted:i}}a(89);var Be=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).breakpointOnClick=function(e){var t=r.state.breakpoints;if(e.currentTarget.classList.contains("active")){e.currentTarget.classList.remove("active");var a=t.indexOf(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));t.splice(a,1)}else e.currentTarget.classList.add("active"),t.push(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));r.setState({breakpoints:t})},r.disableBreakpoints=function(e){r.setState({breakpoints:[],lineError:{},lineCompWarn:{},lineCompError:{}})},r.closeAlert=function(e){r.setState({alertShow:!1})},r.runModalClose=function(e){r.resetCPUandMemory(),r.setState({runModalShow:!1})},r.resizeOutput=function(e){var t=e.currentTarget;r.state.outputZoomed?t.style.height="82px":t.style.height="518px",r.setState({outputZoomed:!r.state.outputZoomed})},r.parseCode=function(e){var t=r.state.code.split("\n"),a=0,n={},l={},s=0,o=[],i=r.checkCode(r.state.code);if(i[0]){for(var c=0;c<t.length;c++)""!==(n=Ae(t[c])).label&&(n.justLabel?(s+=1,l[n.label]=a-s+1):l[n.label]=a-s),a+=n.instructionWords;for(var u=0;u<t.length;u++){var m=t[u].trim();""!==m&&""!==m.split(";")[0]&&(n=Pe(t[u],l))&&(o.push(n[0]),de(ie(n[1]))&&o.push(n[1]))}r.setState({machineCode:o,machineCodeUpdated:!0}),r.updateAlert("Built successfully","success")}else{for(var d=Object.keys(i[1]),p="",h=0;h<d.length;h++)0!==h&&(p+=", "),p+=d[h];r.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+p,"danger")}return o},r.runCode=function(e){var t=[];t=r.state.machineCodeUpdated?r.state.machineCode:r.parseCode();var a=r.canRunCode(r.state.code,t),n={halted:!1};if(a.length)r.updateAlert(a,"danger");else{for(var l=r.state.cpuControl,s=r.state.registers,o=Le(t),i=r.state.input,c=r.state.output;!n.halted;)l=(n=We(l,s,o,i,c)).control,s=n.registers,o=n.memory,i=n.input,c=n.output,Object.keys(o).includes(String(l.pc))||(n.halted=!0);r.setState({cpuControl:l,registers:s,memory:o,output:c,outputZoomed:!1,runModalShow:!0})}},r.setInput=function(e){r.setState({inputModalShow:!0})},r.inputUpdate=function(e){r.setState({input:e.target.value})},r.inputModalClose=function(e){r.setState({inputModalShow:!1})},r.downloadRaw=function(e){var t=r.checkCode(r.state.code);if(t[0]){var a=r.state.fileName;a.endsWith(".asm.txt")||(a.endsWith(".asm")?a+=".txt":a.endsWith(".txt")||(a+=".asm.txt")),r.downloadFile(a,r.state.code),r.updateAlert("Download successful","success")}else{for(var n=Object.keys(t[1]),l="",s=0;s<n.length;s++)0!==s&&(l+=", "),l+=n[s];r.updateAlert("Download cannot continue as code does not build and therefore will be uncompatible. Errors at line(s): "+l,"danger")}},r.fileNameUpdate=function(e){r.setState({fileName:e.target.value})},r.fileNameHandleKeyDown=function(e){"Enter"===e.key&&r.downloadModalClose()},r.downloadModalClose=function(e){switch(r.state.downloadAs){case 0:r.downloadRaw();break;case 1:r.downloadRawCompatible();break;case 2:r.downloadBinary();break;case 3:r.downloadHex();break;case 4:r.downloadHexCompatible();break;default:r.updateAlert("Download cannot continue due to internal website error. Try to contact Jim Carty.","danger")}r.setState({downloadModalShow:!1})},r.downloadModalCloseNon=function(e){r.setState({downloadModalShow:!1})},r.downloadModalOpen=function(e){r.setState({downloadModalShow:!0})},r.downloadModalRadio=function(e){r.setState({downloadAs:e})},r.uploadDisplay=function(e){document.getElementById("binary-upload").click()},r.uploadFile=function(e){e.target.files[0].text().then((function(e){for(var t="",a=e.split(/\s+/),n=0;n<a.length;n++)t+="data $"+a[n],n!==a.length-1&&(t+="\n");r.updateCode(t),r.state.highlightedCodeChunk&&(r.toggleHighlighting(),r.toggleHighlighting())}))},r.updateCode=function(e){e.split("\n").length>500||r.checkCode(e),e?r.setState({code:e,machineCodeUpdated:!1}):r.setState({code:" ",machineCodeUpdated:!1})},r.codeBlockEdit=function(e){e.target.value.split("\n").length>500||r.checkCode(e.target.value),e.target.value?r.setState({code:e.target.value,machineCodeUpdated:!1}):r.setState({code:" ",machineCodeUpdated:!1})},r.toggleHighlighting=function(e){r.setState({highlightedCodeChunk:!r.state.highlightedCodeChunk})},r.state={code:"",breakpoints:[],lineError:{},highlightedCodeChunk:!0,alertShow:!1,alertMessage:"",alertNature:"success",runModalShow:!1,outputZoomed:!1,inputModalShow:!1,downloadModalShow:!1,downloadAs:0,fileName:"S16DownloadFile",lineCompWarn:{},lineCompError:{},machineCode:[],machineCodeUpdated:!1,registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:""},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?this.setState({code:this.props.location.state.code,breakpoints:this.props.location.state.breakpoints,input:this.props.location.state.input}):void 0!==this.props.code&&this.setState({code:this.props.code,breakpoints:this.props.breakpoints,input:this.props.input})}},{key:"breakpointsColumn",value:function(e){var t=[],a=e.split("\n"),n=document.getElementById("code-area");if(n){n.style.height=25*a.length+18+"px";for(var l=0;l<a.length;l++){var s=25*(l+.75)+3+"px",o="breakpoint "+(l+1),i="breakpoint "+(l+1);this.state.breakpoints.includes(l+1)&&(i+=" active");var c="";Object.keys(this.state.lineError).includes(String(l+1))?(i+=" error",c=this.state.lineError[String(l+1)],t.push(r.a.createElement(y.a,{key:i+" tooltip",placement:"right",overlay:r.a.createElement(w.a,null,c)},r.a.createElement("div",{key:o,id:o,className:i,style:{top:s},onClick:this.breakpointOnClick})))):Object.keys(this.state.lineCompWarn).includes(String(l+1))?(i+=" compwarn",c=this.state.lineCompWarn[String(l+1)].warn,t.push(r.a.createElement(y.a,{key:i+" tooltip",placement:"right",overlay:r.a.createElement(w.a,null,c)},r.a.createElement("div",{key:o,id:o,className:i,style:{top:s},onClick:this.breakpointOnClick})))):Object.keys(this.state.lineCompError).includes(String(l+1))?(i+=" comperror",c=this.state.lineCompError[String(l+1)].error,t.push(r.a.createElement(y.a,{key:i+" tooltip",placement:"right",overlay:r.a.createElement(w.a,null,c)},r.a.createElement("div",{key:o,id:o,className:i,style:{top:s},onClick:this.breakpointOnClick})))):t.push(r.a.createElement("div",{key:o,id:o,className:i,style:{top:s},onClick:this.breakpointOnClick}))}return t}}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,t[a])),r.a.createElement(b.a,{style:{textAlign:"right"}},"$",he(this.state.cpuControl[t[a]])))));return e}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(r.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,"R"+t)),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(w.a,null,ce(this.state.registers[t]),"/",ie(this.state.registers[t]))},r.a.createElement("span",null,"$",he(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(C.a,{className:"output-area",as:"textarea",value:this.state.output,onClick:this.resizeOutput,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:"systeminfo-column-elem"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,"$",he(t[a]))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(w.a,null,ce(this.state.memory[t[a]]),"/",ie(this.state.memory[t[a]]))},r.a.createElement("span",null,"$",he(this.state.memory[t[a]])))))));return e}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e,alertNature:t,alertShow:!0})}},{key:"checkCode",value:function(e){for(var t=e.split("\n"),a=!0,n={},r=0,l={},s={},o=0,i=!0,c=0;c<t.length;c++)""!==(l=Ae(t[c])).label&&(l.justLabel?(o+=1,s[l.label]=r-o+1):s[l.label]=r-o),r+=l.instructionWords;for(var u=0;u<t.length;u++)(a=xe(t[u],s)).length&&(n[u+1]=a,i=!1);return this.setState({lineError:n}),[i,n]}},{key:"resetCPUandMemory",value:function(){this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},output:""})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction'):a="Cannot run no code. Try building then running",a}},{key:"downloadFile",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",n=document.createElement("a");n.setAttribute("href","data:"+a+";charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"downloadRawCompatible",value:function(){var e,t,a=this.checkCode(this.state.code),n=0;if(a[0]){var r=Se(this.state.code);if(r[0]){var l=this.state.fileName;if(l.endsWith(".asm.txt")||(l.endsWith(".asm")?l+=".txt":l.endsWith(".txt")||(l+=".asm.txt")),this.downloadFile(l,function(e){for(var t=e.split("\n"),a="",n=0;n<t.length;n++)a+=$e(Xe(t[n]))+"\n";return a}(this.state.code)),(e=Object.keys(r[1])).length){for(t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.setState({lineCompWarn:r[1],lineCompError:r[2]}),this.updateAlert("Download shall continue however, some only partially compatible commands in code at line(s): "+t,"warning")}else this.setState({lineCompWarn:{},lineCompError:{}}),this.updateAlert("Download successful","success")}else{for(e=Object.keys(r[2]),t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.setState({lineCompWarn:r[1],lineCompError:r[2]}),this.updateAlert("Download cannot continue as some fully non compatible commands in code at line(s): "+t,"danger")}}else{for(e=Object.keys(a[1]),t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.updateAlert("Download cannot continue as code does not build and therefore will be uncompatible. Errors at line(s): "+t,"danger")}}},{key:"downloadBinary",value:function(){var e=this.checkCode(this.state.code);if(e[0]){for(var t=this.parseCode(),a="",n=0,r=0;r<t.length;r++)a+=he(t[r]),7===n?(a+="\n",n=0):r!==t.length-1&&(a+=" ",n+=1);var l=this.state.fileName;l+=".bin",this.downloadFile(l,a,"application/mac-binary"),this.updateAlert("Download successful","success")}else{for(var s=Object.keys(e[1]),o="",i=0;i<s.length;i++)0!==i&&(o+=", "),o+=s[i];this.updateAlert("Download cannot continue as code does not build and therefore will be uncompatible. Errors at line(s): "+o,"danger")}}},{key:"downloadHex",value:function(){var e=this.checkCode(this.state.code);if(e[0]){for(var t=this.parseCode(),a="",n=0;n<t.length;n++)a+="data $"+he(t[n])+"\n";var r=this.state.fileName;r.endsWith(".asm.txt")||(r.endsWith(".asm")?r+=".txt":r.endsWith(".txt")||(r+=".asm.txt")),this.downloadFile(r,a),this.updateAlert("Download successful","success")}else{for(var l=Object.keys(e[1]),s="",o=0;o<l.length;o++)0!==o&&(s+=", "),s+=l[o];this.updateAlert("Download cannot continue as code does not build and therefore will be uncompatible. Errors at line(s): "+s,"danger")}}},{key:"downloadHexCompatible",value:function(){var e,t,a=this.checkCode(this.state.code),n=0;if(a[0]){var r=Se(this.state.code);if(r[0]){var l=this.parseCode(),s="";for(n=0;n<l.length;n++)s+=" data $"+he(l[n])+"\n";var o=this.state.fileName;if(o.endsWith(".asm.txt")||(o.endsWith(".asm")?o+=".txt":o.endsWith(".txt")||(o+=".asm.txt")),this.downloadFile(o,s),this.updateAlert("Download successful","success"),(e=Object.keys(r[1])).length){for(t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.setState({lineCompWarn:r[1],lineCompError:r[2]}),this.updateAlert("Download can continue however, some only partially compatible commands in code at line(s): "+t,"warning")}else this.setState({lineCompWarn:{},lineCompError:{}}),this.updateAlert("Download successful","success")}else{for(e=Object.keys(r[2]),t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.setState({lineCompWarn:r[1],lineCompError:r[2]}),this.updateAlert("Download cannot continue as some fully non compatible commands in code at line(s): "+t,"danger")}}else{for(e=Object.keys(a[1]),t="",n=0;n<e.length;n++)0!==n&&(t+=", "),t+=e[n];this.updateAlert("Download cannot continue as code does not build and therefore will be uncompatible. Errors at line(s): "+t,"danger")}}},{key:"createLineNumberColumn",value:function(){var e=this.state.code.split("\n").length,t=[],a="21px",n=Math.log(e)*Math.LOG10E+1|0;n>2&&(a=7*n+7+"px");for(var l=0;l<e;l++){var s=25*(l+.5);t.push(r.a.createElement("div",{key:"line-number "+(l+1),className:"line-number",style:{top:{yOffset:s},width:a}},l+1))}return t}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}),r.a.createElement(R.a,{show:this.state.runModalShow,onHide:this.runModalClose,dialogClassName:"runmodal",animation:!1},r.a.createElement(R.a.Header,{closeButton:!0},r.a.createElement(R.a.Title,null,"Program Register and Memory Values")),r.a.createElement(R.a.Body,null,!this.state.outputZoomed&&r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("h6",null,"Control/Registers")),r.a.createElement(b.a,null,r.a.createElement("h6",null,"Memory/Output"))),r.a.createElement(g.a,null,!this.state.outputZoomed&&r.a.createElement(b.a,{className:"runmodal-left-col"},r.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),r.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn())),r.a.createElement(b.a,null,!this.state.outputZoomed&&r.a.createElement("div",{id:"memory-column-small",className:"memory-column small"},this.memoryColumn()),r.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn()))))),r.a.createElement(R.a,{show:this.state.inputModalShow,onHide:this.inputModalClose,dialogClassName:"inputmodal",animation:!1},r.a.createElement(R.a.Header,{closeButton:!0},r.a.createElement(R.a.Title,null,"Set Input")),r.a.createElement(R.a.Body,null,r.a.createElement("div",{className:"input-modal-column"},r.a.createElement(C.a,{as:"textarea",className:"input-modal-input",value:this.state.input,onChange:this.inputUpdate,autoFocus:!0})),r.a.createElement("div",{style:{paddingTop:"15px"}},r.a.createElement(x.a,{variant:"outline-secondary",onClick:this.inputModalClose,style:{float:"right"}},"Set Input")))),r.a.createElement(R.a,{show:this.state.downloadModalShow,onHide:this.downloadModalCloseNon,dialogClassName:"downloadmodal",animation:!1},r.a.createElement(R.a.Header,{closeButton:!0},r.a.createElement(R.a.Title,null,"Export As...")),r.a.createElement(R.a.Body,null,r.a.createElement("div",{className:"export-choices",style:{paddingBottom:"15px"}},r.a.createElement(N.a,{type:"radio",name:"export-choices",defaultValue:this.state.downloadAs,onChange:this.downloadModalRadio},r.a.createElement(j.a,{variant:"outline-secondary",value:0},"Raw"),r.a.createElement(j.a,{variant:"outline-secondary",value:1},"Raw compatible"),r.a.createElement(j.a,{variant:"outline-secondary",value:2},"Binary"),r.a.createElement(j.a,{variant:"outline-secondary",value:3},"Hex"),r.a.createElement(j.a,{variant:"outline-secondary",value:4},"Hex compatible"))),r.a.createElement("div",{className:"download-modal-column"},r.a.createElement(C.a,{as:"textarea",id:"download-modal-download",className:"download-modal-download",value:this.state.fileName,onChange:this.fileNameUpdate,onKeyDown:this.fileNameHandleKeyDown,autoFocus:!0})),r.a.createElement("div",{style:{paddingTop:"15px"}},r.a.createElement(y.a,{key:"download-tooltip",placement:"left",overlay:r.a.createElement(w.a,null,"Download also started by pressing enter in file name field")},r.a.createElement(x.a,{variant:"outline-secondary",onClick:this.downloadModalClose,style:{float:"right"}},r.a.createElement(O.e,null)," Download"))))),r.a.createElement("div",{className:"mainbody"},r.a.createElement(S.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},r.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),r.a.createElement(g.a,{className:"buttontoolbar"},r.a.createElement(b.a,null,r.a.createElement(M.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Set input")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.setInput},r.a.createElement(O.h,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Build")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.parseCode},r.a.createElement(O.f,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Run")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode},r.a.createElement(O.i,null))))),r.a.createElement(b.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Disable all breakpoints")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},r.a.createElement(O.k,null)))," ",r.a.createElement(m.b,{to:{pathname:"/debug",state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}},r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Run in debug mode")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm"},r.a.createElement(O.b,null))))),r.a.createElement(b.a,null,r.a.createElement(y.a,{key:"highlighting-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Toggle highlighting\n                    improves speed if disabled")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleHighlighting,active:this.state.highlightedCodeChunk},r.a.createElement(O.c,null)))," ",r.a.createElement(M.a,null,r.a.createElement(y.a,{key:"export-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Download current code as is")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.downloadRaw},r.a.createElement(O.e,null))),r.a.createElement(y.a,{key:"export-choices-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Download current code \n                      chunk in different formats")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.downloadModalOpen},r.a.createElement(O.d,null))))," ",r.a.createElement("input",{type:"file",id:"binary-upload",onChange:this.uploadFile,style:{display:"none"},accept:".bin"}),r.a.createElement(y.a,{key:"upload-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Upload a .bin file")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.uploadDisplay},r.a.createElement(O.l,null))))),r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("div",{id:"code-area",className:"code-area"},r.a.createElement("div",{id:"breakpoint-column",className:"breakpoint-column"},this.breakpointsColumn(this.state.code)),r.a.createElement("div",{className:"line-number-column"},this.createLineNumberColumn()),this.state.code&&r.a.createElement(r.a.Fragment,null,this.state.highlightedCodeChunk?r.a.createElement(P.a,{mode:"sigma16",value:this.state.code,onChange:this.updateCode,options:{lineNumbers:!1,scrollbarStyle:"null"},autoFocus:!0}):r.a.createElement(C.a,{as:"textarea",className:"code-chunk-column",value:this.state.code,onChange:this.codeBlockEdit,autoFocus:!0})))))))}}]),a}(r.a.PureComponent),Ie=(a(91),a(102)),Fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e)).closeAlert=function(e){r.setState({alertShow:!1})},r.breakpointOnClick=function(e){var t=r.state.breakpoints;if(e.currentTarget.classList.contains("active")){e.currentTarget.classList.remove("active");var a=t.indexOf(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));t.splice(a,1)}else e.currentTarget.classList.add("active"),t.push(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));r.setState({breakpoints:t}),r.parseForBreakpoints(r.state.code,t)},r.disableBreakpoints=function(e){r.setState({breakpoints:[],breakpointsMachineCode:[]}),r.parseForBreakpoints(r.state.code,[])},r.toggleHighlighting=function(e){r.setState({highlightedCodeChunk:!r.state.highlightedCodeChunk})},r.toggleCodeChunk=function(e){r.setState({showCodeChunk:!r.state.showCodeChunk,renderCodeChunk:!1})},r.collapseOnEntered=function(e){r.setState({renderCodeChunk:!0})},r.runCode=function(e){var t=r.canRunCode(r.state.code,r.state.machineCode),a={halted:!1};if(t.length)r.updateAlert(t,"danger"),r.setState({halted:!0});else{for(var n=r.state.cpuControl,l=r.state.registers,s=r.state.memory,o=r.state.inputRan,i=r.state.output,c=r.state.activeLine,u=!1;!a.halted&&!u;)void 0!==a.control&&(c=a.control.pc),n=(a=We(n,l,s,o,i)).control,l=a.registers,s=a.memory,o=a.input,i=a.output,Object.keys(s).includes(String(n.pc))||(a.halted=!0),r.state.breakpointsMachineCode.includes(a.control.pc)&&(u=!0);r.setState({cpuControl:n,registers:l,memory:s,inputRan:o,output:i,lastLine:c,activeLine:n.pc,halted:a.halted})}},r.stepForward=function(e){var t={halted:!1};if(0!==r.state.machineCode.length){var a=r.state.cpuControl,n=r.state.registers,l=r.state.memory,s=r.state.inputRan,o=r.state.output;a=(t=We(a,n,l,s,o)).control,n=t.registers,l=t.memory,s=t.input,o=t.output,Object.keys(l).includes(String(a.pc))||(t.halted=!0),r.setState({cpuControl:a,registers:n,memory:l,inputRan:s,output:o,lastLine:r.state.activeLine,activeLine:a.pc,halted:t.halted})}else r.updateAlert("Cannot run no code. Try building then running","danger"),r.setState({halted:!0})},r.resetDebug=function(e){r.resetCPUandMemory(),r.setState({memory:Le(r.state.machineCode),inputRan:r.state.input,lastLine:0,activeLine:0,halted:!1})},r.setInput=function(e){r.setState({inputModalShow:!0})},r.inputUpdate=function(e){r.setState({input:e.target.value,inputRan:e.target.value}),r.resetDebug()},r.inputModalClose=function(e){r.setState({inputModalShow:!1})},r.outputModalOpen=function(e){r.setState({outputModalShow:!0})},r.outputModalClose=function(e){r.setState({outputModalShow:!1})},r.state={code:"",breakpoints:[],highlightedCodeChunk:!0,alertShow:!1,alertMessage:"",alertNature:"success",inputModalShow:!1,machineCode:[],registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:"",lastLine:0,activeLine:0,breakpointsMachineCode:[],halted:!1,inputRan:"",memoryToLine:{},lineToMemory:{},showCodeChunk:!0,renderCodeChunk:!0,outputModalShow:!1},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e="",t=[];this.props.location.state?(e=this.props.location.state.code,t=this.props.location.state.breakpoints,this.setState({code:this.props.location.state.code,breakpoints:this.props.location.state.breakpoints,input:this.props.location.state.input,inputRan:this.props.location.state.input})):void 0!==this.props.code&&(e=this.props.code,t=this.props.breakpoints,this.setState({code:this.props.code,breakpoints:this.props.breakpoints,input:this.props.input,inputRan:this.props.input}));var a=this.parseCode(e,t);this.setState({memory:Le(a)})}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e,alertNature:t,alertShow:!0})}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(r.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,t[a])),r.a.createElement(b.a,{style:{textAlign:"right"}},"$",he(this.state.cpuControl[t[a]])))));return e}},{key:"inputColumn",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(C.a,{className:"input-area",as:"textarea",value:this.state.inputRan,disabled:!0}))}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(r.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("strong",null,"R"+t)),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(w.a,null,ce(this.state.registers[t]),"/",ie(this.state.registers[t]))},r.a.createElement("span",null,"$",he(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"},onDoubleClick:this.outputModalOpen},r.a.createElement(C.a,{className:"output-area",as:"textarea",value:this.state.output,onDoubleClick:this.outputModalOpen,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++){var n="systeminfo-column-elem",l="";a===this.state.lastLine&&this.state.lastLine!==this.state.activeLine&&(n="systeminfo-column-elem last"),a!==this.state.activeLine||this.state.halted||(n="systeminfo-column-elem active"),this.state.breakpointsMachineCode.includes(a)&&(l="underline"),e.push(r.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:n},r.a.createElement(g.a,{style:{textDecoration:l}},r.a.createElement(b.a,{className:n},r.a.createElement("strong",null,"$",he(t[a]))),r.a.createElement(b.a,{className:n,style:{textAlign:"right"}},r.a.createElement(y.a,{key:"left",placement:"left",overlay:r.a.createElement(w.a,null,ce(this.state.memory[t[a]]),"/",ie(this.state.memory[t[a]]))},r.a.createElement("span",null,"$",he(this.state.memory[t[a]])))))))}return e}},{key:"breakpointsColumn",value:function(e){var t=[],a=e.split("\n"),n=document.getElementById("code-area-wrapper");if(n){n.style.height=25*a.length+8+"px";for(var l=0;l<a.length;l++){var s=25*(l+.75)+3+"px",o="breakpoint "+(l+1),i="breakpoint "+(l+1);this.state.breakpoints.includes(l+1)&&(i+=" active"),t.push(r.a.createElement("div",{key:o,id:o,className:i,style:{top:s},onClick:this.breakpointOnClick}))}return t}}},{key:"createLineNumberColumn",value:function(){var e=this.state.code.split("\n").length,t=[],a=21,n=Math.log(e)*Math.LOG10E+1|0;n>2&&(a=7*n+7),a+="px";for(var l=0;l<e;l++){var s=25*(l+.5);if(this.state.lineToMemory[l]){var o=he(this.state.lineToMemory[l][0]),i=he(this.state.memory[this.state.lineToMemory[l][0]]);this.state.lineToMemory[l][1]&&(o+=", "+he(this.state.lineToMemory[l][1]),i+=", "+he(this.state.memory[this.state.lineToMemory[l][1]]));var c=o+" | "+i;t.push(r.a.createElement(y.a,{key:"line-number-tooltip"+(l+1),placement:"right",overlay:r.a.createElement(w.a,null,c)},r.a.createElement("div",{key:"line-number "+(l+1),className:"line-number",style:{top:{yOffset:s},width:a}},l+1)))}else t.push(r.a.createElement("div",{key:"line-number "+(l+1),className:"line-number",style:{top:{yOffset:s},width:a}},l+1))}return t}},{key:"noHighlightCodeChunk",value:function(){return r.a.createElement("div",{style:{display:"grid"}},r.a.createElement("pre",{className:"code-chunk-column viewing"},this.state.code))}},{key:"activeLineOverlay",value:function(){if(!this.state.halted){var e=this.state.code.split("\n").length,t=-25*(e-(this.state.memoryToLine[this.state.activeLine]+1))-29,a=21,n=Math.log(e)*Math.LOG10E+1|0;return n>2&&(a=7*n+7),a=a+25+"px",r.a.createElement("div",{style:{marginTop:t,marginLeft:a},className:"line-overlay active"})}}},{key:"lastLineOverlay",value:function(){if(this.state.lastLine!==this.state.activeLine){var e=this.state.code.split("\n").length,t=-25*(e-(this.state.memoryToLine[this.state.lastLine]+1))-29,a=21,n=Math.log(e)*Math.LOG10E+1|0;return n>2&&(a=7*n+7),a=a+25+"px",r.a.createElement("div",{style:{marginTop:t,marginLeft:a},className:"line-overlay last"})}}},{key:"checkCode",value:function(e){for(var t=e.toLowerCase().split("\n"),a=!0,n={},r=0,l={},s={},o=0,i=!0,c=0;c<t.length;c++)""!==(l=Ae(t[c])).label&&(l.justLabel?(o+=1,s[l.label]=r-o+1):s[l.label]=r-o),r+=l.instructionWords;for(var u=0;u<t.length;u++)(a=xe(t[u],s)).length&&(n[u+1]=a,i=!1);return[i,n]}},{key:"parseCode",value:function(e,t){var a=e.split("\n"),n=0,r={},l={},s=0,o=[],i=this.checkCode(e);if(i[0]){for(var c=0;c<a.length;c++)""!==(r=Ae(a[c])).label&&(r.justLabel?(s+=1,l[r.label]=n-s+1):l[r.label]=n-s),n+=r.instructionWords;for(var u=!1,m=[],d={},p={},h=0;h<a.length;h++){var g=a[h].trim();if(t.includes(h+1)&&(u=!0),""!==g&&""!==g.split(";")[0]&&(r=Pe(a[h],l))){var b=o.length;u&&(m.push(b),u=!1),d[b]=h,p[h]=[],p[h].push(b),o.push(r[0]),de(ie(r[1]))&&(p[h].push(b+1),o.push(r[1]))}}this.setState({machineCode:o,breakpointsMachineCode:m,memoryToLine:d,lineToMemory:p})}else{for(var k=Object.keys(i[1]),f="",v=0;v<k.length;v++)0!==v&&(f+=", "),f+=k[v];this.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+f,"danger"),this.setState({halted:!0})}return o}},{key:"parseForBreakpoints",value:function(e,t){var a=this.checkCode(e);if(a[0]){for(var n=e.split("\n").length,r=[],l=0;l<t.length;l++)for(var s=0;s<n;s++)if(s+1>=t[l]&&this.state.lineToMemory[s]){r.push(this.state.lineToMemory[s][0]);break}this.setState({breakpointsMachineCode:r})}else{for(var o=Object.keys(a[1]),i="",c=0;c<o.length;c++)0!==c&&(i+=", "),i+=o[c];this.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+i,"danger"),this.setState({halted:!0})}}},{key:"resetCPUandMemory",value:function(){var e=Le(this.state.machineCode);this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},output:"",memory:e})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction. Can step-through. Restart execution to do so'):a="Cannot run no code. Try building then running",a}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}),r.a.createElement(R.a,{show:this.state.inputModalShow,onHide:this.inputModalClose,dialogClassName:"inputmodal",animation:!1},r.a.createElement(R.a.Header,{closeButton:!0},r.a.createElement(R.a.Title,null,"Set Input")),r.a.createElement(R.a.Body,null,r.a.createElement("div",{className:"input-modal-column"},r.a.createElement(C.a,{as:"textarea",className:"input-modal-input",value:this.state.input,onChange:this.inputUpdate,autoFocus:!0})),r.a.createElement("div",{style:{paddingTop:"15px"}},r.a.createElement(x.a,{variant:"outline-secondary",onClick:this.inputModalClose,style:{float:"right"}},"Set Input")))),r.a.createElement(R.a,{show:this.state.outputModalShow,onHide:this.outputModalClose,dialogClassName:"outputmodal",animation:!1},r.a.createElement(R.a.Header,{closeButton:!0},r.a.createElement(R.a.Title,null,"Output")),r.a.createElement(R.a.Body,null,r.a.createElement("div",{onDoubleClick:this.outputModalClose,className:"output-column",style:{height:"518px",width:"100%"}},r.a.createElement(C.a,{as:"textarea",className:"output-area",value:this.state.output,disabled:!0})))),r.a.createElement("div",{className:"mainbody"},r.a.createElement(S.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},r.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),r.a.createElement(g.a,{className:"buttontoolbar"},r.a.createElement(b.a,null,r.a.createElement(M.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Set input")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.setInput},r.a.createElement(O.h,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Step Forward")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.stepForward,disabled:this.state.halted},r.a.createElement(O.j,null))),r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Run till next breakpoint")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode,disabled:this.state.halted},r.a.createElement(O.i,null))))),r.a.createElement(b.a,null,r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Disable all breakpoints")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},r.a.createElement(O.k,null)))," ",r.a.createElement(y.a,{placement:"top",overlay:r.a.createElement(w.a,null,"Rerun")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.resetDebug},r.a.createElement(O.a,null)))),r.a.createElement(b.a,null,r.a.createElement(y.a,{key:"highlighting-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Toggle highlighting\n                    improves speed if disabled")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleHighlighting,active:this.state.highlightedCodeChunk},r.a.createElement(O.c,null)))," ",r.a.createElement(y.a,{key:"hide-code-tooltip",placement:"top",overlay:r.a.createElement(w.a,null,"Hide the codechunk")},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleCodeChunk,active:!this.state.showCodeChunk},r.a.createElement(O.g,null))))),r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement("h6",null,"Control/Registers/Input")),r.a.createElement(b.a,null,r.a.createElement("h6",null,"Memory/Output")),this.state.showCodeChunk&&r.a.createElement(b.a,null,r.a.createElement("h6",null,"Code ( read-only )"))),r.a.createElement(g.a,null,r.a.createElement(b.a,{className:"runmodal-left-col"},r.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),r.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn()),r.a.createElement("div",{id:"input-column",className:"input-column"},this.inputColumn())),r.a.createElement(b.a,{style:{borderRight:"2px solid #eaeef3"}},r.a.createElement("div",{id:"memory-column-big",className:"memory-column big"},this.memoryColumn()),r.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn())),r.a.createElement(Ie.a,{in:this.state.showCodeChunk,onEntered:this.collapseOnEntered},r.a.createElement(b.a,null,r.a.createElement("div",{id:"code-area-viewing",className:"code-area viewing"},r.a.createElement("div",{id:"code-area-wrapper",className:"code-area-wrapper"},this.state.showCodeChunk&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"breakpoint-column",className:"breakpoint-column"},this.breakpointsColumn(this.state.code)),r.a.createElement("div",{className:"line-number-column"},this.createLineNumberColumn()),this.state.code&&this.state.renderCodeChunk&&r.a.createElement(r.a.Fragment,null,this.state.highlightedCodeChunk?r.a.createElement(P.a,{className:" debug",mode:"sigma16",value:this.state.code,options:{readOnly:!0,lineNumbers:!1}}):r.a.createElement(r.a.Fragment,null,this.noHighlightCodeChunk()),this.activeLineOverlay(),this.lastLineOverlay())))))))))}}]),a}(r.a.Component),He=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n.state.code="lea r1,2[r0]\nlea r2,buffer[r0]\nload r3,buffersize[r0]\n\ntrap r1,r2,r3\n\ntrap r0,r0,r0\n\nbuffersize data 13\nbuffer data $0048\n  data $0065\n  data $006c\n  data $006c\n  data $006f\n  data $002c\n  data $0020\n  data $0057\n  data $006f\n  data $0072\n  data $006c\n  data $0064\n  data $0021",n.state.breakpoints=[],n.state.input="",n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.code,t=this.state.breakpoints,a=this.state.input;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(h,{exact:!0,path:"/",component:v,props:{code:e,breakpoints:t,input:a}}),r.a.createElement(h,{exact:!0,path:"/documentation",component:E,props:{code:e,breakpoints:t,input:a}}),r.a.createElement(h,{exact:!0,path:"/editor",component:Be,props:{code:e,breakpoints:t,input:a}}),r.a.createElement(h,{exact:!0,path:"/debug",component:Fe,props:{code:e,breakpoints:t,input:a}}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.c779be2b.chunk.js.map