(this.webpackJsonpSigma17=this.webpackJsonpSigma17||[]).push([[0],{63:function(e,t,a){e.exports=a(89)},68:function(e,t,a){},69:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},86:function(e,t,a){!function(e){var t;(t=a(56)).defineMode("sigma16",(function(){var e=function(e){return e.split(" ")},a=["add","sub","mul","div","cmp","cmplt","cmpeq","cmpgt","inv","and","or","xor","trap","lea","load","store","jump","jumpc0","jumpc1","jumpf","jumpt","jal","testset","jumplt","jumple","jumpne","jumpeq","jumpge","jumpgt","data","rfi","save","restore","getctl","putctl","execute","push","pop","top","shiftl","shiftr","extract","extracti","inject","injecti","logicw","logicb","getbit","getbiti","putbit","putbiti","field","andb","orb","xorb","invb","andnew","ornew","xornew","invnew","addc"];function r(t,a){if(t.eatSpace())return null;if(t.eat(","))return null;if(t.eat("["))return null;if(t.eat("]"))return null;var r=t.next(),n=t.peek();if(";"===r)return t.skipToEnd(),"comment";if(/(r|R)([0-9])/.test(r+n))return/(1)/.test(n)?(t.next(),n=t.peek(),/([0-5])/.test(n)&&t.next()):t.next(),"def";if("$"===r){if(t.eatWhile(/((\d)|([a-f])|([A-F]))/),t.eol()||!/\w/.test(t.peek()))return"number"}else if("-"===r){if(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek()))return"number"}else if(/\d/.test(r)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w]/);var s=t.current();return e.hasOwnProperty(s)?e[s]:"variable"}function n(e,t){return(t.tokens[0]||r)(e,t)}return t.registerHelper("hintWords","sigma16",a),function(t,a){for(var r=0;r<a.length;r++)e[a[r]]=t}("keyword",a),{startState:function(){return{tokens:[]}},token:function(e,t){return n(e,t)},closeBrackets:"[]",lineComment:";",fold:"brace"}})),t.defineMIME("text/plain","sigma16")}()},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(20),l=a.n(s),i=(a(68),a(13)),o=a(14),c=a(16),u=a(15),m=(a(69),a(17)),p=a(7),d=a(61),h=function(e){var t=e.component,a=e.props,r=Object(d.a)(e,["component","props"]);return n.a.createElement(p.a,Object.assign({},r,{render:function(e){return n.a.createElement(t,Object.assign({},e,a))}}))},b=(a(74),a(94)),g=a(95),k=a(103),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).props=e,r}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(k.a,{fill:!0,variant:"tabs"},n.a.createElement(k.a.Item,null,n.a.createElement(m.c,{className:"nav-link",to:{pathname:"/",state:this.props.state}},"Home")),n.a.createElement(k.a.Item,null,n.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/documentation",state:this.props.state}},"Documentation")),n.a.createElement(k.a.Item,null,n.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/editor",state:this.props.state}},"Editor")),n.a.createElement(k.a.Item,null,n.a.createElement(m.c,{className:"nav-link",activeClassName:"nav-link active",to:{pathname:"/debug",state:this.props.state}},"Debug")))}}]),a}(n.a.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,r){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={code:"",breakpoints:[],input:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{state:this.state}),n.a.createElement("div",{className:"mainbody"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("h1",null,"Sigma17 home page"))),n.a.createElement(b.a,null,n.a.createElement(g.a,null,"Sigma16 is a computer architecture designed for research and teaching in computer systems. This application provides a complete environment for experimenting with the architecture.")),n.a.createElement(b.a,null,n.a.createElement(g.a,null,"Currently, this emulator and IDE runs ",n.a.createElement("strong",null,"fully functional")," on ",n.a.createElement("strong",null,"Google Chrome")," and ",n.a.createElement("strong",null,"Safari"),". Minor features - limited to double clicking to resize outputs - are unavailable on ",n.a.createElement("strong",null,"Firefox")," and ",n.a.createElement("strong",null,"Edge"),", however the core of the website - breakpoints, emulation, editting and running - are unaffected and the website will still look and operate correctly.")),n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("div",{className:"click-editor"},n.a.createElement(m.b,{to:{pathname:"/editor",state:this.state}},"Click Here To Run IDE")))),n.a.createElement(b.a,null,n.a.createElement(g.a,null,"This web based IDE is not to be used in complete replacement the orignal written by John O'Donnel as it has properties of it which could mean that programs written using this emulator ",n.a.createElement("strong",null,"will not work")," with the orignal and could lead to repurcussions because of it.")),n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("div",{className:"click-editor"},n.a.createElement("a",{href:"https://github.com/QuestioWo/Sigma17"},"View Source Directory on GitHub"))))))}}]),a}(n.a.Component),E=(a(77),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,r){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={code:"",breakpoints:[],input:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{state:this.state}),n.a.createElement("div",{className:"mainbody"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,"Empty for now"))))}}]),a}(n.a.Component)),y=(a(55),a(78),a(104)),C=a(96),w=a(97),R=a(102),x=a(98),S=a(99),j=a(100),N=a(8),M=a(37),O=a.n(M),A={add:"rrr",sub:"rrr",mul:"rrr",div:"rrr",cmplt:"rrr",cmpeq:"rrr",cmpgt:"rrr",and:"rrr",or:"rrr",xor:"rrr",trap:"rrr",cmp:"rr",inv:"rr",lea:"rx",load:"rx",store:"rx",jumpf:"rx",jumpt:"rx",jal:"rx",testset:"rx",jump:"jx",jumpc0:"kx",jumpc1:"kx",jumple:"jumpAlias",jumpne:"jumpAlias",jumpge:"jumpAlias",jumpnv:"jumpAlias",jumpnvu:"jumpAlias",jumpnco:"jumpAlias",jumplt:"jumpAlias",jumpeq:"jumpAlias",jumpgt:"jumpAlias",jumpv:"jumpAlias",jumpvu:"jumpAlias",jumpco:"jumpAlias",data:"x",rfi:"noEXP",execute:"rrEXP",save:"rrxEXP",restore:"rrxEXP",getctl:"rcEXP",putctl:"rcEXP",push:"rrrEXP",pop:"rrrEXP",top:"rrrEXP",addc:"rrrEXP",shiftl:"rrkEXP",shiftr:"rrkEXP",getbit:"rkEXP",getbiti:"rkEXP",putbit:"rkEXP",putbiti:"rkEXP",field:"injectIAlias",extract:"rrkkEXP",extracti:"rrkkEXP",inject:"rrrkkEXP",injecti:"rrrkkEXP",logicb:"rrrkkEXP",logicw:"rrrkEXP",andb:"logicAliasRRRK",orb:"logicAliasRRRK",xorb:"logicAliasRRRK",invb:"logicAliasRRK",andnew:"logicAliasRRR",ornew:"logicAliasRRR",xornew:"logicAliasRRR",invnew:"logicAliasRR"},P=Math.pow(16,3),$=Math.pow(16,2),L=Math.pow(16,1),X=Math.pow(16,0),T={cmp:4,inv:8},I={add:0,sub:1,mul:2,div:3,cmplt:5,cmpeq:6,cmpgt:7,and:9,or:10,xor:11,trap:13},B={jump:3},D={jumple:[4,1],jumpne:[4,2],jumpge:[4,3],jumpnv:[4,6],jumpnvu:[4,5],jumpnco:[4,7],jumplt:[5,3],jumpeq:[5,2],jumpgt:[5,1],jumpv:[5,6],jumpvu:[5,5],jumpco:[5,7]},W={jumpc0:4,jumpc1:5},z={lea:0,load:1,store:2,jumpf:6,jumpt:7,jal:8,testset:9},F={data:0},H={rfi:0},U={execute:12},G={save:8,restore:9},K={getctl:10,putctl:11},V={push:13,pop:14,top:15,addc:28},Z={shiftl:16,shiftr:17},q={getbit:24,getbiti:25,putbit:26,putbiti:27},J={extract:18,extracti:19},Q={inject:20,injecti:21,logicb:23},Y={logicw:22},_={andb:[23,1],orb:[23,7],xorb:[23,6]},ee={invb:[23,12]},te={andnew:[22,1],ornew:[22,7],xornew:[22,6]},ae={invnew:[22,12]},re={field:[21,0,0]};function ne(e){return(e=Number(e))<65536&&e>=-32768?((32768&e)>0&&(e-=65536),e):65536}function se(e){return e<65536&&e>=-32768?(e<0&&(e+=65536),e):65536}function le(e,t){var a=0;return isNaN(e)?ie(e)?(e=e.slice(1,e.length),a=parseInt(e,16)):a=t&&Object.keys(t).includes(e)?t[e]:e:a=se(Number(e)),a}function ie(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=se(parseInt(e,16))):t=65536:t=se(parseInt(e)),t<65536&&t>=0}function oe(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=parseInt(e,16)):t=16:t=parseInt(e),t<=15&&t>=0}function ce(e){if(void 0!==e){for(e.length||(e=e.toString(16));e.length<4;)e="0"+e;return e}return e}function ue(e,t){for(var a=e<<t;a>=65536;)a-=65536;return a>>=15}function me(e,t,a){var r=15-a;return e&(65535&~(1<<r))|t<<r}function pe(e,t,a,r){var n=15-a,s=65535>>>15-a+r;return e&(65535&~(s<<n))|(t&s)<<n}function de(e){return!!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9]))$/.test(e)||'arguments must be in the form of "Ra,Rb"'}function he(e){return!!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9]))$/.test(e)||'arguments must be in the form of "Rd,Ra,Rb"'}function be(e,t){if(!/^((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "disp[Ra]"';var a=e.split("[")[0];return!!ie(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}function ge(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e)?!!function(e){var t=0;return isNaN(e)?e.startsWith("$")?(e=e.slice(1,e.length),t=parseInt(e,16)):t=16:t=parseInt(e),t<=255&&t>=0}(e.split(",")[2].split("[")[0])||"disp argument must either be a decimal, or a hex with decimal values between 0 and 255":'arguments must be in the form of "Re,Rf,disp[Rd]", negative integers not allowed'}function ke(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(e)?!!oe(e.split(",")[2])||"g argument must either be a decimal, or a hex value between 0 and 15":'arguments must be in the form of "Rd,Re,g", negative integers not allowed'}function fe(e){return/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(e)?!!oe(e.split(",")[3])||"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":'arguments must be in the form of "Rd,Re,Rf,g", negative integers not allowed'}function ve(e,t,a){var r,n,s=!0;switch(A[e]){case"rr":s=t?de(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"rrr":s=t?he(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"jx":case"jumpAlias":s=t?be(t,a):e+" must be followed by arguments in the format of disp[Ra]";break;case"kx":s=t?function(e,t){if(!/^((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "k,disp[Ra]", negative integers not allowed for k argument';var a=e.split(","),r=a[0],n=a[1].split("[")[0];return oe(r)?!!ie(n)||(!!Object.keys(t).includes(n)||"disp argument must either be a decimal, a hex or an initailised label"):"k argument must either be a decimal, a hex value between 0 and 15, negative integers not allowed"}(t,a):e+" must be followed by arguments in the format of k,disp[Ra], where k is a bit";break;case"rx":s=t?function(e,t){if(!/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+\[[rR]((1[0-5])|([0-9]))\]$/.test(e))return'arguments must be in the form of "Rd,disp[Ra]"';var a=e.split(",")[1].split("[")[0];return!!ie(a)||(!!Object.keys(t).includes(a)||"disp argument must either be a decimal, a hex or an initailised label")}(t,a):e+" must be followed by arguments in the format of Rd,disp[Ra]";break;case"x":s=t?/^((\$((\d)|([a-f]))+)|(-(\d))|(\d)|(\w))+$/.test(n=t)?!!ie(n)||"data must be followed by either a decimal or hex number <= 65535 and >=-32768":'arguments must be in the form of "constant" up to 65535 and down to -32768':e+" must be followed by a number, either decimal or hex ( preceeded by $ )";break;case"noEXP":s=!0;break;case"rrEXP":s=t?de(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"rrxEXP":s=t?ge(t):e+" must be followed by 2 registers then a disp in the form of Rx,Rx,disp[Rx]";break;case"rcEXP":s=t?!!/^([rR]((1[0-5])|([0-9])),((ir)|(pc)|(adr)))$/.test(t)||'arguments must be in the form of "Rd,controlRegisterName"':e+" must be followed by a register and a control register in the form Rx,(pc/ir/adr)";break;case"rrrEXP":s=t?he(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"rrkEXP":s=t?ke(t):e+" must be followed by 2 registers and a constant in form Rx,Rx,k";break;case"rkEXP":s=t?/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+$/.test(r=t)?!!oe(r.split(",")[1])||"g argument must either be a decimal, or a hex value between 0 and 15":'arguments must be in the form of "Rd,g", negative integers not allowed':e+" must be followed by a register and a constant in form Rx,k";break;case"rrkkEXP":s=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,Re,g,h", negative integers not allowed';var t=e.split(","),a=t[2],r=t[3];return oe(a)?!!oe(r)||"h argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed"}(t):e+" must be followed by 2 registers and 2 constants in form Rx,Rx,k1,k2";break;case"rrrkkEXP":s=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,Re,Rf,g,h", negative integers not allowed';var t=e.split(","),a=t[3],r=t[4];return oe(a)?!!oe(r)||"h argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed":"g argument must either be a decimal, or a hex value between 0 and 15, negative integers not allowed"}(t):e+" must be followed by 3 registers and 2 constants in form Rx,Rx,Rx,k1,k2";break;case"rrrkEXP":case"logicAliasRRRK":s=t?fe(t):e+" must be followed by 3 registers and a constant in form Rx,Rx,Rx,k";break;case"logicAliasRRK":s=t?ke(t):e+" must be followed by 2 registers and a constant in form Rx,Rx,k";break;case"logicAliasRRR":s=t?he(t):e+" must be followed by 3 registers in form Rx,Rx,Rx";break;case"logicAliasRR":s=t?de(t):e+" must be followed by 2 registers in form Rx,Rx";break;case"injectIAlias":s=t?function(e){if(!/^[rR]((1[0-5])|([0-9])),((\$((\d)|([a-f]))+)|(\d))+,((\$((\d)|([a-f]))+)|(\d))+$/.test(e))return'arguments must be in the form of "Rd,g,h", negative integers not allowed';var t=e.split(",")[1],a=e.split(",")[2];return oe(t)?!!oe(a)||"h argument must either be a decimal, or a hex value between 0 and 15":"g argument must either be a decimal, or a hex value between 0 and 15"}(t):e+" must be followed by a register and 2 constants in form Rx,k1,k2";break;default:s="not a valid command with known command type"}return s}function Ee(e,t){var a=e.trim().split(";")[0].split(/\s+/),r=!0;return a[0]&&(Object.keys(A).includes(a[0])?r=ve(a[0],a[1],t):/\w/.test(a[0])&&a[1]&&(r=Object.keys(A).includes(a[1])?ve(a[1],a[2],t):"not a valid command following label")),r}function ye(e,t){var a={words:0,type:"",op:0};switch(A[e]){case"rr":a.words=1,a.type="rrr",a.op=T[e];break;case"rrr":a.words=1,a.type="rrr",a.op=I[e];break;case"jx":a.words=2,a.type="rx",a.op=B[e];break;case"jumpAlias":a.words=2,a.type="rx",a.op=D[e][0];break;case"kx":a.words=2,a.type="rx",a.op=W[e];break;case"rx":a.words=2,a.type="rx",a.op=z[e];break;case"x":a.words=1,a.type="x",a.op=F[e];break;case"noEXP":a.words=1,a.type="exp0",a.op=H[e];break;case"rrEXP":a.words=2,a.type="exp4",a.op=U[e];break;case"rrxEXP":a.words=2,a.type="exp8",a.op=G[e];break;case"rcEXP":a.words=2,a.type="exp4",a.op=K[e];break;case"rrrEXP":a.words=2,a.type="exp4",a.op=V[e];break;case"rrkEXP":a.words=2,a.type="exp4",a.op=Z[e];break;case"rkEXP":a.words=2,a.type="exp4",a.op=q[e];break;case"rrkkEXP":a.words=2,a.type="exp4",a.op=J[e];break;case"rrrkkEXP":a.words=2,a.type="exp4",a.op=Q[e];break;case"rrrkEXP":a.words=2,a.type="exp4",a.op=Y[e];break;case"logicAliasRRRK":a.words=2,a.type="exp4",a.op=_[e][0];break;case"logicAliasRRK":a.words=2,a.type="exp4",a.op=ee[e][0];break;case"logicAliasRRR":a.words=2,a.type="exp4",a.op=te[e][0];break;case"logicAliasRR":a.words=2,a.type="exp4",a.op=ae[e][0];break;case"injectIAlias":a.words=2,a.type="exp4",a.op=re[e][0]}return a}function Ce(e,t,a){var r=0,n=65536,s=ye(e),l=function(e,t,a){var r={d:0,a:0,b:0,disp:0,e:0,f:0,g:0,h:0,gh:0};switch(A[e]){case"rr":var n=t.split(",");r.a=Number(n[0].slice(1,n[0].length)),r.b=Number(n[1].slice(1,n[1].length)),r.d=r.a;break;case"rrr":var s=t.split(",");r.d=Number(s[0].slice(1,s[0].length)),r.a=Number(s[1].slice(1,s[1].length)),r.b=Number(s[2].slice(1,s[2].length));break;case"jx":var l=t.split("[");r.a=Number(l[1].slice(1,l[1].length-1)),r.disp=le(l[0],a),r.d=0;break;case"jumpAlias":var i=t.split("[");r.a=Number(i[1].slice(1,i[1].length-1)),r.disp=le(i[0],a),r.d=D[e][1];break;case"kx":var o=t.split(",");r.d=le(o[0],a),o=o[1].split("["),r.a=Number(o[1].slice(1,o[1].length-1)),r.disp=le(o[0],a);break;case"rx":var c=t.split(",");r.d=Number(c[0].slice(1,c[0].length)),c=c[1].split("["),r.a=Number(c[1].slice(1,c[1].length-1)),r.disp=le(c[0],a);break;case"x":r.disp=le(t,a);break;case"noEXP":break;case"rrEXP":var u=t.split(",");r.e=Number(u[0].slice(1,u[0].length)),r.f=Number(u[1].slice(1,u[1].length));break;case"rrxEXP":var m=t.split(",");r.e=Number(m[0].slice(1,m[0].length)),r.f=Number(m[1].slice(1,m[1].length)),m=m[2].split("["),r.d=Number(m[1].slice(1,m[1].length-1)),r.gh=le(m[0],a);break;case"rcEXP":var p=t.split(",");switch(r.d=Number(p[0].slice(1,p[0].length)),p[1]){case"pc":r.g=1;break;case"ir":r.g=2;break;case"adr":r.g=3;break;default:r.g=0}break;case"rrrEXP":var d=t.split(",");r.d=Number(d[0].slice(1,d[0].length)),r.e=Number(d[1].slice(1,d[1].length)),r.f=Number(d[2].slice(1,d[2].length));break;case"rrkEXP":var h=t.split(",");r.d=Number(h[0].slice(1,h[0].length)),r.e=Number(h[1].slice(1,h[1].length)),r.g=le(h[2],a);break;case"rkEXP":var b=t.split(",");r.d=Number(b[0].slice(1,b[0].length)),r.g=le(b[1],a);break;case"rrkkEXP":var g=t.split(",");r.d=Number(g[0].slice(1,g[0].length)),r.e=Number(g[1].slice(1,g[1].length)),r.g=le(g[2],a),r.h=le(g[3],a);break;case"rrrkkEXP":var k=t.split(",");r.d=Number(k[0].slice(1,k[0].length)),r.e=Number(k[1].slice(1,k[1].length)),r.f=Number(k[2].slice(1,k[2].length)),r.g=le(k[3],a),r.h=le(k[4],a);break;case"rrrkEXP":var f=t.split(",");r.d=Number(f[0].slice(1,f[0].length)),r.e=Number(f[1].slice(1,f[1].length)),r.f=Number(f[2].slice(1,f[2].length)),r.g=le(f[3],a);break;case"logicAliasRRRK":var v=t.split(",");r.d=Number(v[0].slice(1,v[0].length)),r.e=Number(v[1].slice(1,v[1].length)),r.f=Number(v[2].slice(1,v[2].length)),r.g=_[e][1],r.h=le(v[3],a);break;case"logicAliasRRK":var E=t.split(",");r.d=Number(E[0].slice(1,E[0].length)),r.e=Number(E[1].slice(1,E[1].length)),r.g=ee[e][1],r.h=le(E[2],a);break;case"logicAliasRRR":var y=t.split(",");r.d=Number(y[0].slice(1,y[0].length)),r.e=Number(y[1].slice(1,y[1].length)),r.f=Number(y[2].slice(1,y[2].length)),r.g=te[e][1];break;case"logicAliasRR":var C=t.split(",");r.d=Number(C[0].slice(1,C[0].length)),r.e=Number(C[1].slice(1,C[1].length)),r.g=ae[e][1];break;case"injectIAlias":var w=t.split(",");r.d=Number(w[0].slice(1,w[0].length)),r.e=re[e][1],r.f=re[e][2],r.g=le(w[1],a),r.h=le(w[2],a)}return r}(e,t,a);switch(s.type){case"rrr":r+=s.op*P+l.d*$+l.a*L+l.b*X;break;case"rx":r+=15*P+l.d*$+l.a*L+s.op*X,n=l.disp;break;case"x":r+=l.disp;break;case"exp0":r+=14*P+l.d*$+s.op*X;break;case"exp4":r+=14*P+l.d*$+s.op*X,n=l.e*P+l.f*$+l.g*L+l.h*X;break;case"exp8":r+=14*P+l.d*$+s.op*X,n=l.e*P+l.f*$+l.gh*X}return[r,n]}function we(e){var t=e.trim().split(";")[0].split(/\s+/),a={label:"",instructionWords:0,justLabel:!1};return t[0]&&""!==t[0]&&(Object.keys(A).includes(t[0])?a.instructionWords=ye(t[0],t[1]).words:/\w/.test(t[0])&&(t[1]?Object.keys(A).includes(t[1])&&(a.label=t[0],a.instructionWords=ye(t[1],t[2]).words):(a.label=t[0],a.instructionWords=1,a.justLabel=!0))),a}function Re(e,t){var a=[0,65536],r=e.trim().split(";")[0].split(/\s+/);return r[0]&&""!==r[0]&&(Object.keys(A).includes(r[0])?a=Ce(r[0],r[1],t):/\w/.test(r[0])&&(r[1]?Object.keys(A).includes(r[1])&&(a=Ce(r[1],r[2],t)):a=void 0)),a}function xe(e){for(var t={},a=0;a<e.length;a++)t[a]=e[a];return t}function Se(e,t,a){var r=ne(e),n=ne(t),s=!1;return r>n?a.g=1:r<n?a.l=1:s=!0,e>t?a.G=1:e<t?a.L=1:s&&(a.E=1),a}function je(e,t,a,r,n,s,l){var i=!1,o={},c=!1,u=0,m=Math.floor(s/P),p=Math.floor((s-m*P)/$),d=Math.floor((s-p*$-m*P)/L),h=Math.floor((s-d*L-p*$-m*P)/X),b=t[d],g=t[h],k={G:0,g:0,E:0,l:0,L:0,V:0,v:0,C:0,S:0},f=!1;switch(e.ir=s,e.adr=l,m){case 0:u=1,t[p]=b+g,t[p]>=65536&&(t[p]-=65536,k.V=1,k.C=1),k=Se(t[p],t[0],k),f=!0;break;case 1:u=1,b=ne(b),g=ne(g),t[p]=b,b<g&&(k.v=1),t[p]-=g,k=Se(se(t[p]),t[0],k),f=!0;break;case 2:if(u=1,t[p]=b*g,t[p]>=65536)for(k.V=1;t[p]>=65536;)t[p]-=65536;k=Se(t[p],t[0],k),f=!0;break;case 3:u=1,b=ne(b),0!==(g=ne(g))?(t[p]=Math.floor(b/g),15!==p&&(t[15]=b%g)):(t[p]=b,15!==p&&(t[15]=0));break;case 4:u=1,k=Se(b,g,k),f=!0;break;case 5:u=1,ne(b)<ne(g)?t[p]=1:t[p]=0;break;case 6:u=1,ne(b)===ne(g)?t[p]=1:t[p]=0;break;case 7:u=1,ne(b)>ne(g)?t[p]=1:t[p]=0;break;case 8:u=1,t[d]=65535^g;break;case 9:u=1,t[p]=t[d]&t[h];break;case 10:u=1,t[p]=t[d]|t[h];break;case 11:u=1,t[p]=t[d]^t[h];break;case 12:u=1;break;case 13:u=1,e=(o=function(e,t,a,r,n,s,l,i){var o=!1;switch(t[s]){case 0:o=!0;break;case 1:for(var c=t[l],u=0;u<t[i];u++)r.length>u?a[c+u]=r.charCodeAt(u):a[c+u]=0;n+=">>"+r.slice(0,t[i]),r=r.slice(t[i],r.length);break;case 2:for(var m=t[l],p=0;p<t[i];p++)a[m+p]?n+=String.fromCharCode(a[m+p]):n+=String.fromCharCode(0)}return{control:e,registers:t,memory:a,input:r,output:n,halted:o}}(e,t,a,r,n,p,d,h)).control,t=o.registers,a=o.memory,r=o.input,n=o.output,i=o.halted;break;case 14:o=function(e,t,a,r,n,s,l,i,o){var c=!1,u=!1,m={G:0,g:0,E:0,l:0,L:0,V:0,v:0,C:0,S:0},p=!1,d=l*L+i,h=Math.floor(o/P),b=Math.floor((o-h*P)/$),g=Math.floor(o-b*$-h*P),k=Math.floor(g/L),f=Math.floor((g-k*L)/X),v=1;switch(d){case 0:v=1;break;case 8:v=2;var E=t[s]+g,y=0;y=h>b?Math.abs(h-(b+16)):Math.abs(h-b);for(var C=h;C<=h+y;C++){var w=C%16;a[E+(C-h)]=t[w]}break;case 9:v=2;var R=t[s]+g,x=0;x=h>b?Math.abs(h-(b+16)):Math.abs(h-b);for(var S=h;S<=h+x;S++){var j=S%16;a[R+(S-h)]?t[j]=a[R+(S-h)]:t[j]=0}break;case 10:switch(v=2,k){case 1:t[s]=e.pc;break;case 2:t[s]=e.ir;break;case 3:t[s]=e.adr}break;case 11:switch(v=2,k){case 1:e.pc=t[s],u=!0;break;case 2:e.ir=t[s];break;case 3:e.adr=t[s]}break;case 12:if(v=2,57356!==t[h]||t[b]!==o){var N=je(e,t,a,r,n,t[h],t[b]);e=N.control,t=N.registers,a=N.memory,r=N.input,n=N.output,c=N.halted,u=N.jumped,e.ir=57356,e.adr=o,p=!0}else c=!0;break;case 13:v=2,t[h]<t[b]?(t[h]+=1,a[t[h]]=t[s]):(m.S=1,p=!0);break;case 14:v=2,t[h]<=t[b]&&(t[s]=a[t[h]],t[h]-=1);break;case 15:v=2,t[s]=a[t[h]];break;case 16:if(v=2,t[s]=t[h]<<k,t[s]>=65536&&15!==s)for(m.V=1;t[s]>=65536;)t[s]-=65536;p=!0;break;case 17:v=2,t[s]=t[h]>>k;break;case 18:v=2;var M=0;for(M=t[h]<<k;M>=65536;)M-=65536;M>>=15-f+k,t[s]=M;break;case 19:v=2;var O=0;for(O=65535^t[h],O<<=k;O>=65536;)O-=65536;O>>>=15-f+k,t[s]=O;break;case 20:v=2,t[s]=pe(t[h],t[b],f,k);break;case 21:v=2,t[s]=pe(t[h],65535^t[b],f,k);break;case 22:switch(v=2,k){case 1:t[s]=t[h]&t[b];break;case 6:t[s]=t[h]^t[b];break;case 7:t[s]=t[h]|t[b];break;case 12:t[s]=65535^t[h]}break;case 23:switch(v=2,k){case 1:var A=ue(t[h]&t[b],f);t[s]=me(t[s],A,f);break;case 6:var T=ue(t[h]^t[b],f);t[s]=me(t[s],T,f);break;case 7:var I=ue(t[h]|t[b],f);t[s]=me(t[s],I,f);break;case 12:var B=1^ue(t[h],f);t[s]=me(t[s],B,f)}break;case 24:v=2;var D=ue(t[15],k);t[s]=D;break;case 25:v=2;var W=ue(t[15],k);t[s]=1^W;break;case 26:v=2;var z=ue(t[s],k);t[15]=me(t[15],z,k);break;case 27:v=2;var F=1^ue(t[s],k);t[15]=me(t[15],F,k);break;case 28:v=2;var H=ue(t[15],7);t[s]=t[h]+t[b]+H,t[s]>=65536&&(t[s]-=65536,m.V=1,m.C=1),m=Se(t[s],t[0],m),p=!0;break;default:v=1}return{control:e,registers:t,memory:a,input:r,output:n,instructionWords:v,halted:c,jumped:u,flagDict:m,setR15:p}}(e,t,a,r,n,p,d,h,l),e=o.control,t=o.registers,a=o.memory,r=o.input,n=o.output,u=o.instructionWords,i=o.halted,c=o.jumped,k=o.flagDict,f=o.setR15;break;case 15:u=2,o=function(e,t,a,r,n,s,l){for(var i=t[n]+l;i>=65536;)i-=65536;var o=!1;switch(s){case 0:t[r]=i;break;case 1:a[i]?t[r]=a[i]:t[r]=0;break;case 2:a[i]=t[r];break;case 3:e.pc=i,o=!0;break;case 4:0===(t[15]&Math.pow(2,15-r))&&(e.pc=i,o=!0);break;case 5:(t[15]&Math.pow(2,15-r))>0&&(e.pc=i,o=!0);break;case 6:0===t[r]&&(e.pc=i,o=!0);break;case 7:1===t[r]&&(e.pc=i,o=!0);break;case 8:t[r]=e.pc+2,e.pc=i,o=!0;break;case 9:t[r]=a[i],a[i]=1}return{control:e,registers:t,memory:a,jumped:o}}(e,t,a,p,d,h,l),e=o.control,t=o.registers,a=o.memory,c=o.jumped;break;default:u=1,i=!0}15!==p&&f&&(t[15]=function(e){var t=0;return 1===e.G&&(t+=32768),1===e.g&&(t+=16384),1===e.E&&(t+=8192),1===e.l&&(t+=4096),1===e.L&&(t+=2048),1===e.V&&(t+=1024),1===e.v&&(t+=512),1===e.C&&(t+=256),1===e.S&&(t+=128),t}(k));for(var v=0;v<16;v++)t[v]<0&&(t[v]=se(t[v]));return t[0]=0,{control:e,registers:t,memory:a,input:r,output:n,halted:i,instructionWords:u,jumped:c}}function Ne(e,t,a,r,n){var s=a[e.pc],l=0;a[e.pc+1]&&(l=a[e.pc+1]);var i=je(e,t,a,r,n,s,l);e=i.control,t=i.registers,a=i.memory,r=i.input,n=i.output;var o=i.halted,c=i.instructionWords;return i.jumped||(e.pc+=c),(Object.values(t).includes(NaN)||Object.values(t).includes(void 0))&&(console.log(e),console.log(t),console.log(a),n+="==== SEVERE SYSTEM ERROR ====",o=!0),{control:e,registers:t,memory:a,input:r,output:n,halted:o}}a(86);var Me=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,r){var n;return Object(i.a)(this,a),(n=t.call(this,e)).breakpointOnClick=function(e){var t=n.state.breakpoints;if(e.currentTarget.classList.contains("active")){e.currentTarget.classList.remove("active");var a=t.indexOf(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));t.splice(a,1)}else e.currentTarget.classList.add("active"),t.push(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));n.setState({breakpoints:t})},n.disableBreakpoints=function(e){n.setState({breakpoints:[]})},n.closeAlert=function(e){n.setState({alertShow:!1})},n.runModalClose=function(e){n.resetCPUandMemory(),n.setState({runModalShow:!1})},n.resizeOutput=function(e){var t=e.currentTarget;n.state.outputZoomed?t.style.height="82px":t.style.height="518px",n.setState({outputZoomed:!n.state.outputZoomed})},n.parseCode=function(e){var t=n.state.code.split("\n"),a=0,r={},s={},l=0,i=[],o=n.checkCode(n.state.code);if(o[0]){for(var c=0;c<t.length;c++)""!==(r=we(t[c])).label&&(r.justLabel?(l+=1,s[r.label]=a-l+1):s[r.label]=a-l),a+=r.instructionWords;for(var u=0;u<t.length;u++){var m=t[u].trim();""!==m&&""!==m.split(";")[0]&&(r=Re(t[u],s))&&(i.push(r[0]),ie(ne(r[1]))&&i.push(r[1]))}n.setState({machineCode:i}),n.setState({machineCodeUpdated:!0}),n.updateAlert("Built successfully","success")}else{for(var p=Object.keys(o[1]),d="",h=0;h<p.length;h++)0!==h&&(d+=", "),d+=p[h];n.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+d,"danger")}return i},n.runCode=function(e){var t=[];t=n.state.machineCodeUpdated?n.state.machineCode:n.parseCode();var a=n.canRunCode(n.state.code,t),r={halted:!1};if(a.length)n.updateAlert(a,"danger");else{for(var s=n.state.cpuControl,l=n.state.registers,i=xe(t),o=n.state.input,c=n.state.output;!r.halted;)s=(r=Ne(s,l,i,o,c)).control,l=r.registers,i=r.memory,o=r.input,c=r.output,Object.keys(i).includes(String(s.pc))||(r.halted=!0);n.setState({cpuControl:s}),n.setState({registers:l}),n.setState({memory:i}),n.setState({output:c}),n.setState({outputZoomed:!1}),n.setState({runModalShow:!0})}},n.setInput=function(e){n.setState({inputModalShow:!0})},n.inputUpdate=function(e){n.setState({input:e.target.value})},n.inputModalClose=function(e){n.setState({inputModalShow:!1})},n.updateCode=function(e){e.split("\n").length>500||n.checkCode(e),e?n.setState({code:e}):n.setState({code:" "}),n.setState({machineCodeUpdated:!1})},n.codeBlockEdit=function(e){e.target.value.split("\n").length>500||n.checkCode(e.target.value),e.target.value?n.setState({code:e.target.value}):n.setState({code:" "}),n.setState({machineCodeUpdated:!1})},n.toggleHighlighting=function(e){n.setState({highlightedCodeChunk:!n.state.highlightedCodeChunk})},n.state={code:"",breakpoints:[],lineError:{},highlightedCodeChunk:!0,alertShow:!1,alertMessage:"",alertNature:"success",runModalShow:!1,outputZoomed:!1,inputModalShow:!1,machineCode:[],machineCodeUpdated:!1,registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state?(this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input})):void 0!==this.props.code&&(this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}))}},{key:"breakpointsColumn",value:function(e){var t=[],a=e.split("\n"),r=document.getElementById("code-area");if(r){r.style.height=25*a.length+18+"px";for(var s=0;s<a.length;s++){var l=25*(s+.75)+3+"px",i="breakpoint "+(s+1),o="breakpoint "+(s+1);if(this.state.breakpoints.includes(s+1)&&(o+=" active"),Object.keys(this.state.lineError).includes(String(s+1))){o+=" error";var c=this.state.lineError[String(s+1)];t.push(n.a.createElement(y.a,{key:o+" tooltip",placement:"right",overlay:n.a.createElement(C.a,null,c)},n.a.createElement("div",{key:i,id:i,className:o,style:{top:l},onClick:this.breakpointOnClick})))}else t.push(n.a.createElement("div",{key:i,id:i,className:o,style:{top:l},onClick:this.breakpointOnClick}))}return t}}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(n.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,t[a])),n.a.createElement(g.a,{style:{textAlign:"right"}},"$",ce(this.state.cpuControl[t[a]])))));return e}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(n.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,"R"+t)),n.a.createElement(g.a,{style:{textAlign:"right"}},n.a.createElement(y.a,{key:"left",placement:"left",overlay:n.a.createElement(C.a,null,se(this.state.registers[t]),"/",ne(this.state.registers[t]))},n.a.createElement("span",null,"$",ce(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return n.a.createElement("div",{style:{height:"100%",width:"100%"}},n.a.createElement(w.a,{className:"output-area",as:"textarea",value:this.state.output,onClick:this.resizeOutput,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++)e.push(n.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:"systeminfo-column-elem"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,"$",ce(t[a]))),n.a.createElement(g.a,{style:{textAlign:"right"}},n.a.createElement(y.a,{key:"left",placement:"left",overlay:n.a.createElement(C.a,null,se(this.state.memory[t[a]]),"/",ne(this.state.memory[t[a]]))},n.a.createElement("span",null,"$",ce(this.state.memory[t[a]])))))));return e}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e}),this.setState({alertNature:t}),this.setState({alertShow:!0})}},{key:"checkCode",value:function(e){for(var t=e.split("\n"),a=!0,r={},n=0,s={},l={},i=0,o=!0,c=0;c<t.length;c++)""!==(s=we(t[c])).label&&(s.justLabel?(i+=1,l[s.label]=n-i+1):l[s.label]=n-i),n+=s.instructionWords;for(var u=0;u<t.length;u++)(a=Ee(t[u],l)).length&&(r[u+1]=a,o=!1);return this.setState({lineError:r}),[o,r]}},{key:"resetCPUandMemory",value:function(){this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0}}),this.setState({cpuControl:{pc:0,ir:0,adr:0}}),this.setState({output:""})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction'):a="Cannot run no code. Try building then running",a}},{key:"createLineNumberColumn",value:function(){var e=this.state.code.split("\n").length,t=[],a="21px",r=Math.log(e)*Math.LOG10E+1|0;r>2&&(a=7*r+7+"px");for(var s=0;s<e;s++){var l=25*(s+.5);t.push(n.a.createElement("div",{key:"line-number "+(s+1),className:"line-number",style:{top:{yOffset:l},width:a}},s+1))}return t}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}),n.a.createElement(R.a,{show:this.state.runModalShow,onHide:this.runModalClose,dialogClassName:"runmodal",animation:!1},n.a.createElement(R.a.Header,{closeButton:!0},n.a.createElement(R.a.Title,null,"Program Register and Memory Values")),n.a.createElement(R.a.Body,null,!this.state.outputZoomed&&n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("h6",null,"Control/Registers")),n.a.createElement(g.a,null,n.a.createElement("h6",null,"Memory/Output"))),n.a.createElement(b.a,null,!this.state.outputZoomed&&n.a.createElement(g.a,{className:"runmodal-left-col"},n.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),n.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn())),n.a.createElement(g.a,null,!this.state.outputZoomed&&n.a.createElement("div",{id:"memory-column-small",className:"memory-column small"},this.memoryColumn()),n.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn()))))),n.a.createElement(R.a,{show:this.state.inputModalShow,onHide:this.inputModalClose,dialogClassName:"inputmodal",animation:!1},n.a.createElement(R.a.Header,{closeButton:!0},n.a.createElement(R.a.Title,null,"Set Input")),n.a.createElement(R.a.Body,null,n.a.createElement("div",{className:"input-modal-column"},n.a.createElement(w.a,{as:"textarea",className:"input-modal-input",value:this.state.input,onChange:this.inputUpdate,autoFocus:!0})),n.a.createElement("div",{style:{paddingTop:"15px"}},n.a.createElement(x.a,{variant:"outline-secondary",onClick:this.inputModalClose,style:{float:"right"}},"Set Input")))),n.a.createElement("div",{className:"mainbody"},n.a.createElement(S.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},n.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),n.a.createElement(b.a,{className:"buttontoolbar"},n.a.createElement(g.a,null,n.a.createElement(j.a,null,n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Set input")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.setInput},n.a.createElement(N.f,null))),n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Build")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.parseCode},n.a.createElement(N.d,null))),n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Run")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode},n.a.createElement(N.g,null))))),n.a.createElement(g.a,null,n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Disable all breakpoints")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},n.a.createElement(N.i,null)))," ",n.a.createElement(m.b,{to:{pathname:"/debug",state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}},n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Run in debug mode")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm"},n.a.createElement(N.b,null))))),n.a.createElement(g.a,null,n.a.createElement(y.a,{key:"highlighting-tooltip",placement:"top",overlay:n.a.createElement(C.a,null,"Toggle highlighting\n                    improves speed if disabled")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleHighlighting,active:this.state.highlightedCodeChunk},n.a.createElement(N.c,null))))),n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("div",{id:"code-area",className:"code-area"},n.a.createElement("div",{id:"breakpoint-column",className:"breakpoint-column"},this.breakpointsColumn(this.state.code)),n.a.createElement("div",{className:"line-number-column"},this.createLineNumberColumn()),this.state.code&&n.a.createElement(n.a.Fragment,null,this.state.highlightedCodeChunk?n.a.createElement(O.a,{mode:"sigma16",value:this.state.code,onChange:this.updateCode,options:{lineNumbers:!1,scrollbarStyle:"null"},autoFocus:!0}):n.a.createElement(w.a,{as:"textarea",className:"code-chunk-column",value:this.state.code,onChange:this.codeBlockEdit,autoFocus:!0})))))))}}]),a}(n.a.PureComponent),Oe=(a(88),a(101)),Ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,r){var n;return Object(i.a)(this,a),(n=t.call(this,e)).closeAlert=function(e){n.setState({alertShow:!1})},n.breakpointOnClick=function(e){var t=n.state.breakpoints;if(e.currentTarget.classList.contains("active")){e.currentTarget.classList.remove("active");var a=t.indexOf(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));t.splice(a,1)}else e.currentTarget.classList.add("active"),t.push(Number(e.currentTarget.id.slice("breakpoint ".length,e.currentTarget.id.length)));n.setState({breakpoints:t}),n.parseForBreakpoints(n.state.code,t)},n.disableBreakpoints=function(e){n.setState({breakpoints:[]}),n.setState({breakpointsMachineCode:[]}),n.parseCode(n.state.code,[])},n.toggleHighlighting=function(e){n.setState({highlightedCodeChunk:!n.state.highlightedCodeChunk})},n.toggleCodeChunk=function(e){n.setState({showCodeChunk:!n.state.showCodeChunk}),n.setState({renderCodeChunk:!1})},n.collapseOnEntered=function(e){n.setState({renderCodeChunk:!0})},n.runCode=function(e){var t=n.canRunCode(n.state.code,n.state.machineCode),a={halted:!1};if(t.length)n.updateAlert(t,"danger"),n.setState({halted:!0});else{for(var r=n.state.cpuControl,s=n.state.registers,l=n.state.memory,i=n.state.inputRan,o=n.state.output,c=n.state.activeLine,u=!1;!a.halted&&!u;)void 0!==a.control&&(c=a.control.pc),r=(a=Ne(r,s,l,i,o)).control,s=a.registers,l=a.memory,i=a.input,o=a.output,Object.keys(l).includes(String(r.pc))||(a.halted=!0),n.state.breakpointsMachineCode.includes(a.control.pc)&&(u=!0);n.setState({cpuControl:r}),n.setState({registers:s}),n.setState({memory:l}),n.setState({inputRan:i}),n.setState({output:o}),n.setState({lastLine:c}),n.setState({activeLine:r.pc}),n.setState({halted:a.halted})}},n.stepForward=function(e){var t={halted:!1};if(0!==n.state.machineCode.length){var a=n.state.cpuControl,r=n.state.registers,s=n.state.memory,l=n.state.inputRan,i=n.state.output;a=(t=Ne(a,r,s,l,i)).control,r=t.registers,s=t.memory,l=t.input,i=t.output,Object.keys(s).includes(String(a.pc))||(t.halted=!0),n.setState({cpuControl:a}),n.setState({registers:r}),n.setState({memory:s}),n.setState({inputRan:l}),n.setState({output:i}),n.setState({lastLine:n.state.activeLine}),n.setState({activeLine:a.pc}),n.setState({halted:t.halted})}else n.updateAlert("Cannot run no code. Try building then running","danger"),n.setState({halted:!0})},n.resetDebug=function(e){n.resetCPUandMemory(),n.setState({memory:xe(n.state.machineCode)}),n.setState({inputRan:n.state.input}),n.setState({lastLine:0}),n.setState({activeLine:0}),n.setState({halted:!1})},n.setInput=function(e){n.setState({inputModalShow:!0})},n.inputUpdate=function(e){n.setState({input:e.target.value}),n.setState({inputRan:e.target.value}),n.resetDebug()},n.inputModalClose=function(e){n.setState({inputModalShow:!1})},n.outputModalOpen=function(e){n.setState({outputModalShow:!0})},n.outputModalClose=function(e){n.setState({outputModalShow:!1})},n.state={code:"",breakpoints:[],highlightedCodeChunk:!0,alertShow:!1,alertMessage:"",alertNature:"success",inputModalShow:!1,machineCode:[],registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},cpuControl:{pc:0,ir:0,adr:0},memory:{},output:"",input:"",lastLine:0,activeLine:0,breakpointsMachineCode:[],halted:!1,inputRan:"",memoryToLine:{},lineToMemory:{},showCodeChunk:!0,renderCodeChunk:!0,outputModalShow:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e="",t=[];this.props.location.state?(e=this.props.location.state.code,t=this.props.location.state.breakpoints,this.setState({code:this.props.location.state.code}),this.setState({breakpoints:this.props.location.state.breakpoints}),this.setState({input:this.props.location.state.input}),this.setState({inputRan:this.props.location.state.input})):void 0!==this.props.code&&(e=this.props.code,t=this.props.breakpoints,this.setState({code:this.props.code}),this.setState({breakpoints:this.props.breakpoints}),this.setState({input:this.props.input}),this.setState({inputRan:this.props.input}));var a=this.parseCode(e,t);this.setState({memory:xe(a)})}},{key:"updateAlert",value:function(e,t){this.setState({alertMessage:e}),this.setState({alertNature:t}),this.setState({alertShow:!0})}},{key:"controlColumn",value:function(){for(var e=[],t=Object.keys(this.state.cpuControl),a=0;a<t.length;a++)e.push(n.a.createElement("div",{key:"control "+t[a],id:"control "+t[a],className:"systeminfo-column-elem"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,t[a])),n.a.createElement(g.a,{style:{textAlign:"right"}},"$",ce(this.state.cpuControl[t[a]])))));return e}},{key:"inputColumn",value:function(){return n.a.createElement("div",{style:{height:"100%",width:"100%"}},n.a.createElement(w.a,{className:"input-area",as:"textarea",value:this.state.inputRan,disabled:!0}))}},{key:"registerColumn",value:function(){for(var e=[],t=0;t<16;t++)e.push(n.a.createElement("div",{key:"register "+t,id:"register "+t,className:"systeminfo-column-elem"},n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,"R"+t)),n.a.createElement(g.a,{style:{textAlign:"right"}},n.a.createElement(y.a,{key:"left",placement:"left",overlay:n.a.createElement(C.a,null,se(this.state.registers[t]),"/",ne(this.state.registers[t]))},n.a.createElement("span",null,"$",ce(this.state.registers[t])))))));return e}},{key:"outputColumn",value:function(){return n.a.createElement("div",{style:{height:"100%",width:"100%"},onDoubleClick:this.outputModalOpen},n.a.createElement(w.a,{className:"output-area",as:"textarea",value:this.state.output,onDoubleClick:this.outputModalOpen,disabled:!0}))}},{key:"memoryColumn",value:function(){for(var e=[],t=Object.keys(this.state.memory).map((function(e){return Number(e)})),a=0;a<t.length;a++){var r="systeminfo-column-elem",s="";a===this.state.lastLine&&this.state.lastLine!==this.state.activeLine&&(r="systeminfo-column-elem last"),a!==this.state.activeLine||this.state.halted||(r="systeminfo-column-elem active"),this.state.breakpointsMachineCode.includes(a)&&(s="underline"),e.push(n.a.createElement("div",{key:"memory "+t[a],id:"memory "+t[a],className:r},n.a.createElement(b.a,{style:{textDecoration:s}},n.a.createElement(g.a,{className:r},n.a.createElement("strong",null,"$",ce(t[a]))),n.a.createElement(g.a,{className:r,style:{textAlign:"right"}},n.a.createElement(y.a,{key:"left",placement:"left",overlay:n.a.createElement(C.a,null,se(this.state.memory[t[a]]),"/",ne(this.state.memory[t[a]]))},n.a.createElement("span",null,"$",ce(this.state.memory[t[a]])))))))}return e}},{key:"breakpointsColumn",value:function(e){var t=[],a=e.split("\n"),r=document.getElementById("code-area-wrapper");if(r){r.style.height=25*a.length+8+"px";for(var s=0;s<a.length;s++){var l=25*(s+.75)+3+"px",i="breakpoint "+(s+1),o="breakpoint "+(s+1);this.state.breakpoints.includes(s+1)&&(o+=" active"),t.push(n.a.createElement("div",{key:i,id:i,className:o,style:{top:l},onClick:this.breakpointOnClick}))}return t}}},{key:"createLineNumberColumn",value:function(){var e=this.state.code.split("\n").length,t=[],a=21,r=Math.log(e)*Math.LOG10E+1|0;r>2&&(a=7*r+7),a+="px";for(var s=0;s<e;s++){var l=25*(s+.5);if(this.state.lineToMemory[s]){var i=ce(this.state.lineToMemory[s][0]),o=ce(this.state.memory[this.state.lineToMemory[s][0]]);this.state.lineToMemory[s][1]&&(i+=", "+ce(this.state.lineToMemory[s][1]),o+=", "+ce(this.state.memory[this.state.lineToMemory[s][1]]));var c=i+" | "+o;t.push(n.a.createElement(y.a,{key:"line-number-tooltip"+(s+1),placement:"right",overlay:n.a.createElement(C.a,null,c)},n.a.createElement("div",{key:"line-number "+(s+1),className:"line-number",style:{top:{yOffset:l},width:a}},s+1)))}else t.push(n.a.createElement("div",{key:"line-number "+(s+1),className:"line-number",style:{top:{yOffset:l},width:a}},s+1))}return t}},{key:"noHighlightCodeChunk",value:function(){return n.a.createElement("div",{style:{display:"grid"}},n.a.createElement("pre",{className:"code-chunk-column viewing"},this.state.code))}},{key:"activeLineOverlay",value:function(){if(!this.state.halted){var e=this.state.code.split("\n").length,t=-25*(e-(this.state.memoryToLine[this.state.activeLine]+1))-29,a=21,r=Math.log(e)*Math.LOG10E+1|0;return r>2&&(a=7*r+7),a=a+25+"px",n.a.createElement("div",{style:{marginTop:t,marginLeft:a},className:"line-overlay active"})}}},{key:"lastLineOverlay",value:function(){if(this.state.lastLine!==this.state.activeLine){var e=this.state.code.split("\n").length,t=-25*(e-(this.state.memoryToLine[this.state.lastLine]+1))-29,a=21,r=Math.log(e)*Math.LOG10E+1|0;return r>2&&(a=7*r+7),a=a+25+"px",n.a.createElement("div",{style:{marginTop:t,marginLeft:a},className:"line-overlay last"})}}},{key:"checkCode",value:function(e){for(var t=e.toLowerCase().split("\n"),a=!0,r={},n=0,s={},l={},i=0,o=!0,c=0;c<t.length;c++)""!==(s=we(t[c])).label&&(s.justLabel?(i+=1,l[s.label]=n-i+1):l[s.label]=n-i),n+=s.instructionWords;for(var u=0;u<t.length;u++)(a=Ee(t[u],l)).length&&(r[u+1]=a,o=!1);return[o,r]}},{key:"parseCode",value:function(e,t){var a=e.split("\n"),r=0,n={},s={},l=0,i=[],o=this.checkCode(e);if(o[0]){for(var c=0;c<a.length;c++)""!==(n=we(a[c])).label&&(n.justLabel?(l+=1,s[n.label]=r-l+1):s[n.label]=r-l),r+=n.instructionWords;for(var u=!1,m=[],p={},d={},h=0;h<a.length;h++){var b=a[h].trim();if(t.includes(h+1)&&(u=!0),""!==b&&""!==b.split(";")[0]&&(n=Re(a[h],s))){var g=i.length;u&&(m.push(g),u=!1),p[g]=h,d[h]=[],d[h].push(g),i.push(n[0]),ie(ne(n[1]))&&(d[h].push(g+1),i.push(n[1]))}}this.setState({machineCode:i}),this.setState({breakpointsMachineCode:m}),this.setState({memoryToLine:p}),this.setState({lineToMemory:d})}else{for(var k=Object.keys(o[1]),f="",v=0;v<k.length;v++)0!==v&&(f+=", "),f+=k[v];this.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+f,"danger"),this.setState({halted:!0})}return i}},{key:"parseForBreakpoints",value:function(e,t){var a=this.checkCode(e);if(a[0]){for(var r=e.split("\n").length,n=[],s=0;s<t.length;s++)for(var l=0;l<r;l++)if(l+1>=t[s]&&this.state.lineToMemory[l]){n.push(this.state.lineToMemory[l][0]);break}this.setState({breakpointsMachineCode:n})}else{for(var i=Object.keys(a[1]),o="",c=0;c<i.length;c++)0!==c&&(o+=", "),o+=i[c];this.updateAlert("Built unsuccesfully, correct syntax errors at line(s): "+o,"danger"),this.setState({halted:!0})}}},{key:"resetCPUandMemory",value:function(){var e=xe(this.state.machineCode);this.setState({registers:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0}}),this.setState({cpuControl:{pc:0,ir:0,adr:0}}),this.setState({output:""}),this.setState({memory:e})}},{key:"canRunCode",value:function(e,t){var a=!0;return 0!==t.length?t.includes(53248)||(a='Cannot run code without a "trap R0,R0,R0" instruction. Can step-through. Restart execution to do so'):a="Cannot run no code. Try building then running",a}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{state:{code:this.state.code,breakpoints:this.state.breakpoints,input:this.state.input}}),n.a.createElement(R.a,{show:this.state.inputModalShow,onHide:this.inputModalClose,dialogClassName:"inputmodal",animation:!1},n.a.createElement(R.a.Header,{closeButton:!0},n.a.createElement(R.a.Title,null,"Set Input")),n.a.createElement(R.a.Body,null,n.a.createElement("div",{className:"input-modal-column"},n.a.createElement(w.a,{as:"textarea",className:"input-modal-input",value:this.state.input,onChange:this.inputUpdate,autoFocus:!0})),n.a.createElement("div",{style:{paddingTop:"15px"}},n.a.createElement(x.a,{variant:"outline-secondary",onClick:this.inputModalClose,style:{float:"right"}},"Set Input")))),n.a.createElement(R.a,{show:this.state.outputModalShow,onHide:this.outputModalClose,dialogClassName:"outputmodal",animation:!1},n.a.createElement(R.a.Header,{closeButton:!0},n.a.createElement(R.a.Title,null,"Output")),n.a.createElement(R.a.Body,null,n.a.createElement("div",{onDoubleClick:this.outputModalClose,className:"output-column",style:{height:"518px",width:"100%"}},n.a.createElement(w.a,{as:"textarea",className:"output-area",value:this.state.output,disabled:!0})))),n.a.createElement("div",{className:"mainbody"},n.a.createElement(S.a,{variant:this.state.alertNature,onClose:this.closeAlert,show:this.state.alertShow,dismissible:!0},n.a.createElement("p",{className:"alertbody"},this.state.alertMessage)),n.a.createElement(b.a,{className:"buttontoolbar"},n.a.createElement(g.a,null,n.a.createElement(j.a,null,n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Set input")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.setInput},n.a.createElement(N.f,null))),n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Step Forward")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.stepForward,disabled:this.state.halted},n.a.createElement(N.h,null))),n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Run till next breakpoint")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.runCode,disabled:this.state.halted},n.a.createElement(N.g,null))))),n.a.createElement(g.a,null,n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Disable all breakpoints")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.disableBreakpoints},n.a.createElement(N.i,null)))," ",n.a.createElement(y.a,{placement:"top",overlay:n.a.createElement(C.a,null,"Rerun")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.resetDebug},n.a.createElement(N.a,null)))),n.a.createElement(g.a,null,n.a.createElement(y.a,{key:"highlighting-tooltip",placement:"top",overlay:n.a.createElement(C.a,null,"Toggle highlighting\n                    improves speed if disabled")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleHighlighting,active:this.state.highlightedCodeChunk},n.a.createElement(N.c,null)))," ",n.a.createElement(y.a,{key:"hide-code-tooltip",placement:"top",overlay:n.a.createElement(C.a,null,"Hide the codechunk")},n.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:this.toggleCodeChunk,active:!this.state.showCodeChunk},n.a.createElement(N.e,null))))),n.a.createElement(b.a,null,n.a.createElement(g.a,null,n.a.createElement("h6",null,"Control/Registers/Input")),n.a.createElement(g.a,null,n.a.createElement("h6",null,"Memory/Output")),this.state.showCodeChunk&&n.a.createElement(g.a,null,n.a.createElement("h6",null,"Code ( read-only )"))),n.a.createElement(b.a,null,n.a.createElement(g.a,{className:"runmodal-left-col"},n.a.createElement("div",{id:"control-column",className:"control-column"},this.controlColumn()),n.a.createElement("div",{id:"register-column",className:"register-column"},this.registerColumn()),n.a.createElement("div",{id:"input-column",className:"input-column"},this.inputColumn())),n.a.createElement(g.a,{style:{borderRight:"2px solid #eaeef3"}},n.a.createElement("div",{id:"memory-column-big",className:"memory-column big"},this.memoryColumn()),n.a.createElement("div",{id:"output-column",className:"output-column",onDoubleClick:this.resizeOutput},this.outputColumn())),n.a.createElement(Oe.a,{in:this.state.showCodeChunk,onEntered:this.collapseOnEntered},n.a.createElement(g.a,null,n.a.createElement("div",{id:"code-area-viewing",className:"code-area viewing"},n.a.createElement("div",{id:"code-area-wrapper",className:"code-area-wrapper"},this.state.showCodeChunk&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"breakpoint-column",className:"breakpoint-column"},this.breakpointsColumn(this.state.code)),n.a.createElement("div",{className:"line-number-column"},this.createLineNumberColumn()),this.state.code&&this.state.renderCodeChunk&&n.a.createElement(n.a.Fragment,null,this.state.highlightedCodeChunk?n.a.createElement(O.a,{className:" debug",mode:"sigma16",value:this.state.code,options:{readOnly:!0,lineNumbers:!1}}):n.a.createElement(n.a.Fragment,null,this.noHighlightCodeChunk()),this.activeLineOverlay(),this.lastLineOverlay())))))))))}}]),a}(n.a.Component),Pe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r.state.code="lea r1,2[r0]\nlea r2,buffer[r0]\nload r3,buffersize[r0]\n\ntrap r1,r2,r3\n\ntrap r0,r0,r0\n\nbuffersize data 13\nbuffer data $0048\n  data $0065\n  data $006c\n  data $006c\n  data $006f\n  data $002c\n  data $0020\n  data $0057\n  data $006f\n  data $0072\n  data $006c\n  data $0064\n  data $0021",r.state.breakpoints=[],r.state.input="",r}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.code,t=this.state.breakpoints,a=this.state.input;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,null,n.a.createElement(p.c,null,n.a.createElement(h,{exact:!0,path:"/",component:v,props:{code:e,breakpoints:t,input:a}}),n.a.createElement(h,{exact:!0,path:"/documentation",component:E,props:{code:e,breakpoints:t,input:a}}),n.a.createElement(h,{exact:!0,path:"/editor",component:Me,props:{code:e,breakpoints:t,input:a}}),n.a.createElement(h,{exact:!0,path:"/debug",component:Ae,props:{code:e,breakpoints:t,input:a}}))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.a2bd7cd2.chunk.js.map